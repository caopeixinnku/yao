!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,a,i){for(var u,s,l,c=0,d=[];c<r.length;c++)s=r[c],o[s]&&d.push(o[s][0]),o[s]=0;for(u in a)Object.prototype.hasOwnProperty.call(a,u)&&(e[u]=a[u]);for(n&&n(r,a,i);d.length;)d.shift()();if(i)for(c=0;c<i.length;c++)l=t(t.s=i[c]);return l};var r={},o={3:0};t.e=function(e){function n(){u.onerror=u.onload=null,clearTimeout(s);var t=o[e];0!==t&&(t&&t[1](new Error("Loading chunk "+e+" failed.")),o[e]=void 0)}var r=o[e];if(0===r)return new Promise(function(e){e()});if(r)return r[2];var a=new Promise(function(t,n){r=o[e]=[t,n]});r[2]=a;var i=document.getElementsByTagName("head")[0],u=document.createElement("script");u.type="text/javascript",u.charset="utf-8",u.async=!0,u.timeout=12e4,t.nc&&u.setAttribute("nonce",t.nc),u.src=t.p+""+e+".js";var s=setTimeout(n,12e4);return u.onerror=u.onload=n,i.appendChild(u),a},t.m=e,t.c=r,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t.oe=function(e){throw console.error(e),e}}({11:function(e,t,n){"use strict";function r(){if(l.DEBUG){var e;(e=console).debug.apply(e,arguments)}}function o(){c.default.verbose&&r.apply(void 0,arguments)}function a(){if(l.DEBUG){var e;(e=console).warn.apply(e,arguments)}}function i(){var e;(e=console).error.apply(e,arguments)}function u(e,t){l.DEBUG&&(console.groupCollapsed("%c"+e,"color:blue;font-weight:normal"),t(),console.groupEnd())}function s(){c.default.verbose&&u.apply(void 0,arguments)}Object.defineProperty(t,"__esModule",{value:!0}),t.debug=r,t._debug=o,t.warn=a,t.error=i,t.group=u,t._group=s;var l=n(16),c=function(e){return e&&e.__esModule?e:{default:e}}(l)},120:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){_spaces.setNotifier(e,{},t)}function a(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new m.default(function(o,a){_spaces.sendNotification(e,t,n,r,function(e){if(e)return a(e);o()})})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new b(e);return t.unpause(),t}Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;var u=n(3),s=r(u),l=n(0),c=r(l),d=n(1),f=r(d),p=n(5),v=r(p),g=n(6),h=r(g);t.setNotifier=o,t.sendNotification=a,t.makeMessages=i;var y=n(8),m=r(y),_=n(121),w=r(_),b=t.Messages=function(e){function t(e){(0,c.default)(this,t);var n=(0,v.default)(this,(t.__proto__||(0,s.default)(t)).call(this,_spaces.notifierGroup.DIRECT,e));return n._sendDirectMessageAsync=m.default.promisify(_spaces.ps.descriptor.sendDirectMessage,{context:_spaces.ps.descriptor}),n}return(0,h.default)(t,e),(0,f.default)(t,[{key:"sendDirectMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._sendDirectMessageAsync(e,t,n)}}]),t}(w.default)},121:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(83),a=r(o),i=n(23),u=r(i),s=n(3),l=r(s),c=n(0),d=r(c),f=n(1),p=r(f),v=n(5),g=r(v),h=n(49),y=r(h),m=n(6),_=r(m),w=n(82),b=r(w),E=function(e){function t(e,n){(0,d.default)(this,t);var r=(0,g.default)(this,(t.__proto__||(0,l.default)(t)).call(this)),o=null;return n.events?o=n.events.reduce(function(e,t){return"object"===(void 0===t?"undefined":(0,u.default)(t))&&(t=t.event),e.add(t)},new a.default):console.warn("Listening for all events is a potential performance problem."),r._notifierGroup=e,r._paused=!0,r._options=n,r._eventHandler=r._eventHandler.bind(r),r._enabledEvents=o,r}return(0,_.default)(t,e),(0,p.default)(t,[{key:"_eventHandler",value:function(e,t,n){if(e)return void this.emit("error","Failed to handle event: "+e);this.emit("all",t,n),this.emit(t,n)}},{key:"addListener",value:function(e){var n;if("string"==typeof e&&"all"!==e&&this._enabledEvents&&!this._enabledEvents.has(e))throw new Error("Event "+e+" is not enabled in this Descriptor instance.");for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return(n=(0,y.default)(t.prototype.__proto__||(0,l.default)(t.prototype),"addListener",this)).call.apply(n,[this,e].concat(o))}},{key:"off",value:function(e,t){return this.removeListener(e,t)}},{key:"pause",value:function(){if(!this._paused){this._paused=!0;var e=this._options;e.events&&0===e.events.length||_spaces.setNotifier(this._notifierGroup,e,void 0)}}},{key:"unpause",value:function(){if(this._paused){this._paused=!1;var e=this._options;e.events&&0===e.events.length||_spaces.setNotifier(this._notifierGroup,this._options,this._eventHandler)}}},{key:"emitEvent",value:function(e,t){if("error"===e){if(0===this.getListeners(e).length){var n,r;throw n=t.length>0&&"string"==typeof t[0]?t.shift():"Unhandled error event",r=new Error(n),r.args=t,r}}return this.emitEvent.call(e,t),this}},{key:"setHandledEvents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=null;e?(t=e.reduce(function(e,t){return"object"===(void 0===t?"undefined":(0,u.default)(t))&&(t=t.event),e.add(t)},new a.default),this._options.events=e):console.warn("Listening for all events is a potential performance problem."),this._enabledEvents=t,_spaces.setNotifier(this._notifierGroup,this._options,this._eventHandler)}}]),t}(b.default);t.default=E},130:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){try{C.messages.addListener("hermesMessage",a)}catch(e){(0,A.error)("To use Hermes, you need to add `hermesMessage` to your list of adapterMessages events")}}function a(e){var t=JSON.parse(e.message),n=t.requestid;if(t.requestid){if(!x.get(n)){var r={csEventType:"InactiveRequest",requestid:n};return void C.messages.sendDirectMessage("messageToHermes",r,{canExecuteWhileModal:!0})}(0,A._debug)("[Hermes] handle message from Hermes plugin",e);var o=x.get(n),a=(0,b.default)(o,2),u=a[0],s=a[1];if("FileCached"===e.messageType)t.error?s(t.error):u(t),x.delete(n);else if("FileProcessed"===e.messageType)t.error?s(t.error):u(t),x.delete(n);else if("ContentReady"===e.messageType)t.contentCount?(L.set(n,{received:0,total:t.contentCount,offers:[]}),i(n)):u([]),(0,A._debug)("[Hermes] expects to receive "+t.contentCount+" offers");else if("Content"===e.messageType){var l=L.get(n);l.offers.push(t),l.received++,(0,A._group)("[Hermes] received offer ("+l.received+"/"+l.total+")",function(){return(0,A._debug)(t)}),l.received===l.total&&(x.delete(n),L.delete(n),f(l.offers),u(l.offers))}else if("CCPhotos"===e.messageType)switch(t.subtype){case"UploadToCCPhotosStatus":if(t.error)s(new Error(t.error)),x.delete(n);else{var c=x.get(n)[2].onProgress;c&&c(t.json.progress),(t.json.done||t.json.canceled)&&(u(t.json),x.delete(n))}break;case"CCPhotosUploadStatus":case"CancelCCPhotosUpload":case"CanUploadToCCPhotos":t.error?s(new Error(t.error)):u(t.json),x.delete(n);break;default:throw new Error("Unhandled CCPhotos message "+t.subtype)}}}function i(e){var t={csEventType:"DeliverContent",requestid:e},n={canExecuteWhileModal:!0};C.messages.sendDirectMessage("messageToHermes",t,n)}function u(e){return new T.default(function(t,n){var r={canExecuteWhileModal:!0};x.set(S,[t,n,e]),e.requestid=S++,(0,A._debug)("[Hermes] send message to Hermes plugin",e),C.messages.sendDirectMessage("messageToHermes",e,r)})}function s(){return u({csEventType:"DeliverContentInfo",refresh:arguments.length>0&&void 0!==arguments[0]&&arguments[0]})}function l(){return p()}function c(e){return u({csEventType:"DownloadFile",url:e})}function d(e){return u({csEventType:"ProcessFile",url:e}).get("json")}function f(e){var t=I.default.cachePrefix+"hermes.offers";(0,k.setInLocalStorage)(t,e)}function p(){var e=I.default.cachePrefix+"hermes.offers";return(0,k.getFromLocalStorage)(e,[])}function v(e,t,n){var r=void 0;return m(e,t,n).then(function(e){var t=e.canUpload,n=e.reason,r=e.errorCode,o=void 0===r?null:r,a=e.errorMessage,i=void 0===a?null:a;if(!t)throw new Error("Cannot upload to CC Photos: "+n+" (errorCode: "+o+", errorMessage: "+i+")");return C.messages.sendDirectMessage("saveCurrentDocumentToTempLocation",{},{canExecuteWhileModal:!0})}).then(function(e){var t=e.result,n=e.message,o=e.path;if(0!==t)throw new Error("Unable to save current docuemnt to temp location: "+n+" ("+t+")");r=o;var a={path:{_path:r}};return C.messages.sendDirectMessage("requestUploadToLightroom",a,{canExecuteWhileModal:!0})}).then(function(e){var t=e.result;if(0!==t)throw new Error("Unable to initiate upload: "+t);return r})}function g(e){return u({csEventType:"ListenToCCPhotosUploadStatus",path:e,onProgress:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).onProgress})}function h(){return u({csEventType:"CCPhotosUploadStatus"})}function y(e,t,n){return u({csEventType:"CancelUploadToCCPhotos",path:e,apiKey:t,token:n})}function m(e,t,n){return C.messages.sendDirectMessage("canUploadToLightroom",{},{canExecuteWhileModal:!0}).then(function(r){var o=r.result,a=r.message;if(0!==o){var i=void 0;switch(o){case 100:case 101:case 102:i="UNSUPPORTED_DOC";break;case 150:i="UNSAVED_NEW_DOC";break;case 151:i="UPLOAD_IN_PROGRESS";break;default:i="UNKNOWN_ERROR"}return{canUpload:!1,reason:i,errorCode:o,errorMessage:a}}return u({csEventType:"CanUploadToCCPhotos",apiKey:e,token:t,environment:n}).timeout(5e3).catch(function(){return{canUpload:!1,reason:"HERMES_TIMEOUT",errorCode:null,errorMessage:"HERMES_TIMEOUT"}})})}function _(e){return e=e+D.LANGUAGE+"/strings.json",d(e).then(function(e){return(0,D.addToDictionary)(e),e}).catch(function(t){(0,A.warn)("Dictionary file "+e+" could not be downloaded, will use the cached version",t)})}Object.defineProperty(t,"__esModule",{value:!0});var w=n(18),b=r(w),E=n(29),M=r(E);t.initializeHermes=o,t._messageHandler=a,t.requestAvailableContent=s,t.getCachedContent=l,t.downloadFile=c,t.downloadProcessedFile=d,t.uploadCurrentDocumentToCCPhotos=v,t.listenToCCPhotosUploadStatus=g,t.getCCPhotosUploadStatus=h,t.cancelUploadToCCPhotos=y,t.canUploadToCCPhotos=m,t.downloadLatestDictionary=_;var P=n(8),T=r(P),A=n(11),O=n(16),I=r(O),C=n(46),k=n(65),D=n(37),S=O.TEST?1:Date.now(),x=new M.default,L=new M.default},132:function(e,t,n){"use strict";function r(e,t){return e=e||!1,t=t||{invalidateMenus:!0},v.endModalToolStateAsync(e).then(function(){return v.processQueuedCommandsAsync(t)})}function o(e){return v.performMenuCommandAsync(e)}function a(e){return v.getMenuCommandTitleAsync({commandId:e})}function i(e){return v.getMenuCommandTitleAsync({menuId:e})}function u(e){return v.getMenuCommandStateAsync({commandId:e})}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.readPreferencesAsync(e)}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.writePreferencesAsync(e,t)}function c(e,t,n){return v.logHeadlightsEventAsync({category:e,subcategory:t,event:n})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return v.logHeadlightsDataGroupAsync(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.endModalToolState=r,t.performMenuCommand=o,t.getMenuCommandTitleByCommandID=a,t.getMenuCommandTitleByMenuID=i,t.getMenuCommandState=u,t.readPreferences=s,t.writePreferences=l,t.logHeadlightsEvent=c,t.logHeadlightsDataGroup=d;var f=n(8),p=function(e){return e&&e.__esModule?e:{default:e}}(f),v=p.default.promisifyAll(_spaces.ps)},136:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){A=performance.now()}function a(e,t){return M.default?(P.has(e)||P.set(e,new C(e)),new I(e,P.get(e),t)):O}function i(e){if(M.default){var t=T.get(e);if(!t)return void(0,b.warn)('[performance] Unknown action name "'+e+'"');t.end()}}function u(e,t){if(!M.default)return t();var n=a(e),r=t();return r.then?r.then(function(e){return n.end(),e}):(n.end(),r)}function s(){if(M.default){(0,b.debug)("[performance] ------------------------ Report ------------------------");var e=!0,t=!1,n=void 0;try{for(var r,o=(0,d.default)(P);!(e=(r=o.next()).done);e=!0){var a=r.value,i=(0,p.default)(a,2),u=i[0],s=i[1],l="",c=(0,w.map)(s.events,"duration");1==c.length?(l+=u+": "+(0,w.round)(c[0],4)+" ms ",s.globalTime&&(l+="(global: "+s.globalTime+" ms)")):(l+=u+" ("+c.length+"): ",l+=(0,w.round)((0,w.mean)(c),4)+" ms (avg) | ",l+=(0,w.round)((0,w.min)(c),4)+" ms (min) | ",l+=(0,w.round)((0,w.max)(c),4)+" ms (max)"),(0,b.debug)("[performance]",l)}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}(0,b.debug)("[performance] --------------------------------------------------------")}}function l(e){if(!M.default)return!1;var t=P.get(e);return!!t&&((0,b.debug)(t.prettyEvents().join("\n")),!0)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(60),d=r(c),f=n(18),p=r(f),v=n(0),g=r(v),h=n(1),y=r(h),m=n(29),_=r(m);t.markStart=o,t.start=a,t.measure=i,t.measureFunction=u,t.printLog=s;var w=n(24),b=n(11),E=n(16),M=r(E),P=new _.default,T=new _.default,A=void 0,O={end:function(){return!0}},I=function(){function e(t,n,r){(0,g.default)(this,e),this.startTime=performance.now(),this.actionPerformance=n,this.eventData=r,this.actionName=t,T.set(t,this)}return(0,y.default)(e,[{key:"end",value:function(){this.endTime=performance.now(),this.actionPerformance.measureAction(this),T.get(this.actionName)===this&&T.delete(this.actionName)}}]),e}(),C=function(){function e(t){(0,g.default)(this,e),this.name=t,this.events=[]}return(0,y.default)(e,[{key:"measureAction",value:function(e){var t=e.endTime-e.startTime,n=e.eventData;this.events.length>=100&&this.events.shift(),this.events.push({eventData:n,duration:t}),A&&(this.globalTime=(0,w.round)(e.endTime-A,4))}},{key:"prettyEvents",value:function(){return(0,w.map)((0,w.sortBy)(this.events,"duration"),function(e){return(0,w.round)(e.duration,4)+": "+e.eventData})}}]),e}();M.default&&(window.__perf__printLog=s,window.__perf__printActionEvents=l,window._performanceLog=P)},16:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isMac=t.TEST=t.DEBUG=void 0;var o=n(60),a=r(o),i=n(18),u=r(i),s=n(15),l=r(s),c=n(0),d=r(c),f=n(1),p=r(f),v=n(24),g=new URL(document.location).searchParams,h=Boolean(g.get("debug")),y=t.DEBUG=h||!1,m=(t.TEST=!1,t.isMac=0===window.navigator.platform.indexOf("Mac"),function(){function e(){var t=this;(0,d.default)(this,e),e.properties.forEach(function(e){var n=e.name,r=e.value,o=r;(0,l.default)(t,n,{get:function(){var e=(0,v.get)(this,"_"+n,o);if(y&&void 0===e){var t=(new Error).stack.split("\n")[2].match(/at (.+) /)[1];throw new Error(t+" reads config "+n+", but its value is unset.")}return e}})});var n=!0,r=!1,o=void 0;try{for(var i,s=(0,a.default)(g);!(n=(i=s.next()).done);n=!0){var c=i.value,f=(0,u.default)(c,2),p=f[0],h=f[1];if(this.hasOwnProperty(p)){if(y)throw new Error("key: "+p+" supplied on query string but this is a read only property")}else(0,l.default)(this,p,{value:h})}}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}}return(0,p.default)(e,[{key:"config",value:function(t){var n=this;e.properties.forEach(function(e){var r=e.name;t.hasOwnProperty(r)&&(n["_"+r]=t[r])})}}]),e}());m.properties=[{name:"productName",value:"Photoshop"},{name:"cachePrefix"},{name:"highbeamCategory"},{name:"productLocation"},{name:"localImages"},{name:"inlineRegExp"},{name:"testLocale",value:!1},{name:"verbose",value:h}],t.default=new m},162:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return e.find(function(e){return t>=e.globalBounds.left&&t<=e.globalBounds.right&&n>=e.globalBounds.top&&n<=e.globalBounds.bottom})}function a(e,t,n){if(S.isMac)return 1;var r=o(e,t,n);if(!r)throw new Error("Could not find the screen of the target");return r.scaleFactor}function i(e){var t=void 0;switch(e.type){case"panel":t=u(e.id).get("bounds");break;case"tool":t=s(e.id);break;case"dialog":t=l(e.viewID);break;case"view":t=c(e.panel,e.viewID,e.bounds);break;case"layer":t=f(e.name,e.mostRecent,e.view);break;case"appmenu":t=p(e.name);break;case"canvas":t=g();break;case"notification":var n=C.os.getDisplayConfiguration(),r=C.descriptor.getProperty("application","documentArea");t=E.default.join(n,r,function(e,t){var n=t.top,r=t.left,o=(0,M.find)(e,function(e){var t=e.globalBounds,o=t.top,a=t.bottom,i=t.left,u=t.right;return o<=n&&n<=a&&i<=r&&r<=u}),a=n,i=o.globalBounds?o.globalBounds.right:t.right,u=Math.min(t.right,i);return{left:u-1,right:u,top:a,bottom:a+1,arrowPosition:"none"}})}return t}function u(e){var t=(0,O.getPanelInfo)(e);return C.descriptor.playObject(t,{canExecuteWhileModal:!0}).catch(function(t){throw new Error("Panel "+e+" descriptor returns error: "+t.message)}).then(function(t){var n=t.panelInfo,r=(0,M.find)(n,function(e){return!e.closed&&e.globalBounds&&e.visible});if(!r)throw new Error("Panel "+e+" not found.");return{bounds:r.globalBounds,type:r.widgetType}})}function s(e){var t=(0,O.getToolInfo)(e);return C.descriptor.playObject(t,{canExecuteWhileModal:!0}).catch(function(t){throw new Error("Tool "+e+" descriptor returns error: "+t.message)}).then(function(t){if(!t.tool.globalBounds)throw new Error("Tool "+e+" not found.");return{top:t.tool.globalBounds.top,bottom:t.tool.globalBounds.bottom,left:t.tool.globalBounds.left,right:t.tool.globalBounds.right}})}function l(e){e||(e="WIND");var t=(0,O.getModalViewInfo)(e),n="View in modal dialog (ID "+e+")";return C.descriptor.playObject(t,{canExecuteWhileModal:!0}).catch(function(e){throw new Error("{viewName descriptor returns error: "+e.message)}).then(function(e){if(!e.view)throw new Error(n+" not found");if(e.view.control&&e.view.control.dimmed)throw new Error(n+" is disabled");if(!e.view.shown)throw new Error(n+" is hidden");if(!e.view.visible)throw new Error(n+" is not visible in the app frame");return e.view.globalBounds})}function c(e,t,n){if(n)return d(e,n);var r=(0,O.getViewInfo)(e,t),o="View (panel: "+e+", viewID: "+t+")";return C.descriptor.playObject(r,{canExecuteWhileModal:!0}).catch(function(e){throw new Error(o+" descriptor returns error: "+e.message)}).then(function(e){if(!e.view)throw new Error(o+" not found");if(e.view.control&&e.view.control.dimmed)throw new Error(o+" is disabled");if(!e.view.shown)throw new Error(o+" is hidden");if(!e.view.visible)throw new Error(o+" is not visible in the app frame");return e.view.globalBounds})}function d(e,t){var n=C.os.getDisplayConfiguration(),r=u(e);return E.default.join(n,r).then(function(n){var r=(0,w.default)(n,2),o=r[0],i=r[1];if("palette"!==i.type)throw new Error("Position not available because panel "+e+" is minimized or closed.");if(!t)throw new Error("Invalid element bounds.");var u=i.bounds,s=u.left+.5*(u.right-u.left),l=u.top+.5*(u.bottom-u.top),c=a(o,s,l);return{top:u.top+c*t.top,bottom:u.top+c*(t.top+t.height),left:u.left+c*t.left,right:u.left+c*(t.left+t.width)}})}function f(e,t,n){var r=t?(0,k.getMostRecentLayer)():E.default.resolve({name:e}),o=void 0;return u("panelid.static.layers").then(function(e){if("palette"!==e.type)throw new Error("Layer position not available because layers panel is minimized or closed.");return o=e.bounds,r}).then(function(e){var t=e.name;return A.referenceBy.name(t)}).then(function(e){return(0,O.getLayersPanelInfo)(e,n)}).then(function(e){return C.descriptor.playObject(e,{canExecuteWhileModal:!0})}).catch(function(e){throw new Error(name+" descriptor returns error: "+e.message)}).get("globalBounds").then(function(e){return!e||(0,M.isEmpty)(e)?o:e})}function p(e){if(!x.hasOwnProperty(e))throw new Error("Invalid menu name "+e+" provided to getAppMenuPosition");var t=x[e],n=C.os.getAccessibilityInfo(),r=(0,I.getMenuCommandTitleByMenuID)(t);return E.default.join(n,r,function(t,n){var r=t.children,o=n.title;o=o.replace("&","");var a=r.find(function(e){return e["aria-label"]===o});if(a)return a.globalBounds;throw new Error("Menu with name "+e+" can't be found")})}function v(e,t,n){var r=t.top,o=t.left;if(!r&&0!==r&&!o&&0!==o)return e;var a=void 0,i=void 0;if(r||0===r||(r=0,a=e.bottom),o||0===o||(o=0,i=e.right),r.toString().endsWith("%")){var u=.01*r.slice(0,-1);r=(e.bottom-e.top)*u}else r=parseInt(r)*n;if(o.toString().endsWith("%")){var s=.01*o.slice(0,-1);o=(e.right-e.left)*s}else o=parseInt(o)*n;return e.top+=r,e.bottom=a||e.top,e.left+=o,e.right=i||e.left,e}function g(){var e=P.referenceBy.current,t={range:"document",index:1};return C.descriptor.getPropertyRange(e,t,"documentID").then(function(e){if(0===e.length)throw new Error("No active document.")}).then(function(){var e=["viewInfo","width","height","resolution"];return C.descriptor.multiGetProperties(T.referenceBy.current,e)}).then(function(e){var t=e.viewInfo,n=e.width,r=e.height,o=e.resolution,a={range:"layer",index:1,count:-1},i=["visible","background","bounds","layerKind","name"];return C.descriptor.getPropertiesRange(T.referenceBy.current,a,i).then(function(e){var t=void 0,a=e.reverse().find(function(e){return e.layerKind===A.layerKinds.GROUP&&e.visible});if(a)t=a.bounds;else{var i=o._value/72;t={left:{_value:0},right:{_value:n._value*i},top:{_value:0},bottom:{_value:r._value*i}}}return t}).then(function(e){return{canvasBounds:e,viewBounds:t.activeView.globalBounds}})}).then(function(e){var t=e.canvasBounds,n=e.viewBounds;return C.os.getDisplayConfiguration().then(function(e){var r=a(e,n.left,n.top),o=t.left._value,i=t.top._value,u=t.right._value,s=t.bottom._value;return E.default.join(h(o,i,r),h(u,s,r)).then(function(e){var t=(0,w.default)(e,2),r=t[0],o=t[1],a=r.x+n.left,i=r.y+n.top,u=o.x+n.left,s=o.y+n.top,l={top:Math.max(n.top,i),left:Math.max(n.left,a),bottom:Math.min(n.bottom,s),right:Math.min(n.right,u)};if(l.top>=l.bottom||l.left>=l.right)throw new Error("Document bounds not visible in the document view.");return l})})})}function h(e,t,n){return C.descriptor.multiGetProperties(T.referenceBy.current,["viewTransform"]).then(function(r){var o=r.viewTransform,a=m(o),i=(0,w.default)(a,6),u=i[0],s=i[1],l=i[2],c=i[3],d=i[4],f=i[5];return e=parseInt(u*e+l*t+d)*n,t=parseInt(s*e+c*t+f)*n,{x:e,y:t}})}function y(e,t){var n=(0,O.showPanel)(e);return C.descriptor.playObject(n,{canExecuteWhileModal:!0}).then(function(){if(t)return C.descriptor.playObject((0,O.identifyPanel)(e),{canExecuteWhileModal:!0})})}function m(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=e[4],i=e[5],u=t*o-n*r;return u?(u=1/u,[o*u,-r*u,-n*u,t*u,(n*i-o*a)*u,(r*a-t*i)*u]):((0,D.warn)("Window to canvas matrix not invertable."),null)}Object.defineProperty(t,"__esModule",{value:!0});var _=n(18),w=r(_);t.getOwnerScreen=o,t.getScaleFactor=a,t.getTargetBounds=i,t.getLayerPanelPosition=f,t.getAppMenuPosition=p,t.offsetBounds=v,t.getPaintableCanvasBounds=g,t.transformCanvasToWindow=h,t.showPanelByID=y;var b=n(8),E=r(b),M=n(24),P=n(88),T=n(163),A=n(312),O=n(89),I=n(132),C=n(46),k=n(313),D=n(11),S=n(16),x={file:2,edit:3,layer:4,image:5,filter:6,type:6,select:7,window:8,view:9,"3d":75,help:64}},163:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={pdfSelection:t.pdfSelection||"page",pageNumber:t.pageNumber||1,suppressWarnings:t.suppressWarnings||!1,name:t.name||e.name,bitDepth:t.bitDepth||8,box:t.box||"boundingBox",bAntiAlias:t.bAntiAlias||!0,bConstrainProportions:t.bConstrainProportions||!0,width:t.width||e.width,height:t.height||e.height,colorSpace:t.colorSpace||"RGBColorMode",resolution:t.resolution,externalPreview:t.externalPreview},r=void 0===t.forceMRU||t.forceMRU,o={null:e};return n.externalPreview&&(o.externalPreviewParams={in:{_path:n.externalPreview.path},pixelWidth:n.externalPreview.width,pixelHeight:n.externalPreview.height}),o.forceMRU=r,!0===t.overrideOpen&&(o.overrideOpen=!0),!0===t.template&&(o.template=!0),"string"==typeof t.xmp&&(o.as={_obj:"Adobe Camera Raw",_value:{$XMPp:t.xmp}}),new D.default("open",o)}function a(e,t){t=t||{};var n={documentID:e,forceMRU:"boolean"!=typeof t.forceMRU||t.forceMRU};return t.save&&(n.saving={_enum:"yesNo",_value:t.save}),new D.default("close",n)}function i(e,t){var n,r,o=e.lastIndexOf("."),a={},u={},s={gifColorPalette:t.gifColorPalette||"exact",gifRowOrder:t.gifRowOrder||"normal",gifForcedColors:t.gifForcedColors||"blackAndWhite",gitTransparency:t.gitTransparency||!0,jpgExtendedQuality:t.jpgExtendedQuality||8,jpgFormatOptions:t.jpgFormatOptions||"standard",jpgProgressiveScans:t.jpgProgressiveScans||3,pngCompression:t.pngCompression,pngInterlace:t.pngInterlace,embedProfiles:t.embedProfiles||!1};return-1!==o&&(o++,n=e.substring(o)),"gif"===n?(a={_obj:"GIFFormat",_value:{interfaceIconFrameDimmed:i.gifRowOrder[s.gifRowOrder]}},u={_obj:"indexedColorMode",_value:{palette:{_enum:"colorPalette",_value:i.gifColorPalette[s.gifColorPalette]},forcedColors:{_enum:"forcedColors",_value:i.gifForcedColors[s.gifForcedColors]},transparency:s.gitTransparency}}):"psd"===n?a={_obj:"photoshop35Format",_value:{}}:"jpg"===n?a={_obj:"JPEG",_value:{extendedQuality:s.jpgExtendedQuality,matteColor:{_enum:"matteColor",_value:"none"}}}:"png"===n&&(a={_obj:"PNGFormat",_value:{PNGInterlaceType:{_enum:"PNGInterlaceType",_value:i.pngInterlace[s.pngInterlace]},compression:i.pngCompression[s.pngCompression]}}),r={as:a,in:{_path:e}},"gif"===n?(r.to=u,r.copy=!0):r.embedProfiles=s.embedProfiles,new D.default("make",r)}function u(e){(0,L.assert)("document"===j(e),"selectDocument is passed a non-document reference");var t={null:e};return new D.default("select",t)}function s(e){var t={width:e.width||7,height:e.width||5,resolution:e.resolution||72,fill:e.fill||"white",colorMode:e.colorMode||"RGBColorMode",depth:e.depth||8,colorProfile:e.colorProfile||"none",pixelAspectRatio:e.pixelAspectRatio||1},n={_obj:"document",_value:{width:(0,x.distance)(t.width),height:(0,x.distance)(t.height),resolution:(0,x.density)(t.resolution),fill:{_enum:"fill",_value:t.fill},mode:{_class:t.colorMode},depth:t.depth,profile:t.colorProfile,pixelScaleFactor:t.pixelAspectRatio}},r={new:n};return new D.default("make",r)}function l(e){var t={new:{_obj:"document",_value:{preset:e}}};return new D.default("make",t)}function c(e,t,n,r){return n=n||"center",r=r||"center",new D.default("canvasSize",{canvasExtensionColorType:{_enum:"canvasExtensionColorType",_value:"backgroundColor"},height:t,width:e,horizontal:{_enum:"horizontalLocation",_value:n},vertical:{_enum:"verticalLocation",_value:r}})}function d(e,t){(0,L.assert)("document"===j(e),"setTargetPathVisible is passed a non-document reference");var n={_ref:[{_ref:"property",_property:"targetPathVisibility"},e]},r={null:n,to:t};return new D.default("set",r)}function f(e,t,n,r){(0,L.assert)("document"===j(e),"insertGuide is passed a non-document reference");var o={_ref:"guide"},a={_ref:[e,{_class:"guide"}]},i={_enum:"guideTarget",_value:"guideTargetSelectedArtboard"},u={null:o,new:{_obj:"guide",null:a,orientation:{_enum:"orientation",_value:t},position:(0,x.pixels)(n)}};return r&&(u.guideTarget=i),new D.default("newGuide",u)}function p(e,t){(0,L.assert)("document"===j(e),"removeGuide is passed a non-document reference");var n={null:{_ref:[{_ref:"guide",_index:t},e]}};return new D.default("delete",n)}function v(e){(0,L.assert)("document"===j(e),"clearGuides is passed a non-document reference");var t={null:{_ref:[{_ref:"guide",_enum:"ordinal",_value:"allEnum"},e]}};return new D.default("delete",t)}function g(e,t){(0,L.assert)("document"===j(e),"setArtboardAutoAttributes is passed a non-document reference"),(0,L.assert)(t!=={},"setArtboardAutoAttributes requires at least one attribute");var n={_ref:[{_ref:"property",_property:"artboards"},e]},r={null:n,to:t};return new D.default("set",r)}function h(e){return{null:{_ref:[{_ref:"property",_property:e},{_ref:"document",_enum:"ordinal",_value:"targetEnum"}]}}}function y(){return new D.default("get",B)}function m(){return new D.default("get",G)}function _(e){var t=C.default.clone(B);return t.to=e,new D.default("set",t)}function w(e){var t=C.default.clone(G);return t.to=e,new D.default("set",t)}function b(e,t){var n;return n=(0,O.default)(e)?N.id(e):e,{_ref:[{_ref:null,_property:t},{_ref:null,_property:"documentExtensionData"},n]}}function E(e,t){return new D.default("get",{null:b(e,t)})}function M(e,t,n,r){var o={};return o[n]=r,new D.default("set",{null:b(e,t),to:o})}function P(){return new D.default("resolveFontsDialog",{null:{_ref:[]}})}function T(e){var t=e.title,n=void 0===t?null:t,r=e.deleteFile,o=void 0!==r&&r,a={null:N.current};return null!==n&&(a.title=n),!0===o&&(a.deleteFile=!0),new D.default("releaseFileReference",a)}Object.defineProperty(t,"__esModule",{value:!0}),t.referenceOf=t.referenceBy=void 0;var A=n(164),O=r(A);t.openDocument=o,t.closeDocument=a,t.saveDocument=i,t.selectDocument=u,t.createDocument=s,t.createWithPreset=l,t.resizeDocument=c,t.setTargetPathVisible=d,t.insertGuide=f,t.removeGuide=p,t.clearGuides=v,t.setArtboardAutoAttributes=g,t.getGuidesVisibility=y,t.getSmartGuidesVisibility=m,t.setGuidesVisibility=_,t.setSmartGuidesVisibility=w,t._extensionDataReference=b,t.getExtensionData=E,t.setExtensionData=M,t.resolveFontsDialog=P,t.releaseFileReference=T;var I=n(24),C=r(I),k=n(66),D=r(k),S=n(67),x=n(165),L=n(90),N=t.referenceBy=(0,S.wrapper)("document"),j=t.referenceOf=S.refersTo;o.cropTo={bounding:"boundingBox",media:"mediaBox",crop:"cropBox",bleed:"bleedBox",trim:"trimBox",art:"artBox"},o.mode={rgb:"RGBColorMode",gray:"grayscaleMode",cmyk:"CMYKColorMode",lab:"labColorMode"},i.pngCompression={none:0,smallest:9},i.pngInterlace={none:"PNGInterlaceNone",interlaced:"PNGInterlaceAdam7"},i.gifColorPalette={exact:"exact",mac:"macintoshSystem",window:"windowsSystem",web:"web",localPerceptual:"perceptual",localSelective:"selective",localAdaptive:"adaptive",previous:"previous"},i.gifRowOrder={normal:!1,interlaced:!0},i.gifForcedColors={none:"none",blackAndWhite:"blackAndWhite",primaries:"primaries",web:"web"},N.path=function(e){return{descriptor:{null:e}}};var B=h("guidesVisibility"),G=h("smartGuidesVisibility")},165:function(e,t,n){"use strict";function r(e,t){return{_unit:e+"Unit",_value:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=(t.density=r.bind(null,"density"),t.pixels=r.bind(null,"pixels")),a=(t.px=o,t.percent=r.bind(null,"percent"),t.angle=r.bind(null,"angle"),t.inches=r.bind(null,"inches"),t.centimeters=r.bind(null,"centimeters")),i=(t.cm=a,t.picas=r.bind(null,"picas"),t.degrees=r.bind(null,"degrees"),t.number=r.bind(null,"number"),t.seconds=r.bind(null,"seconds"),t.points=r.bind(null,"points")),u=(t.pt=i,t.millimeters=r.bind(null,"millimeters"));t.mm=u,t.distance=r.bind(null,"distance")},183:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new T;return _spaces.setNotifier(_spaces.notifierGroup.OS,e,t._eventHandler.bind(t)),t}Object.defineProperty(t,"__esModule",{value:!0}),t.OS=void 0;var a=n(61),i=r(a),u=n(3),s=r(u),l=n(0),c=r(l),d=n(1),f=r(d),p=n(5),v=r(p),g=n(6),h=r(g);t.makeOS=o;var y=n(82),m=r(y),_=n(8),w=r(_),b=w.default.promisifyAll(_spaces.os),E=w.default.promisifyAll(_spaces.os.keyboardFocus),M=w.default.promisifyAll(_spaces.os.clipboard),P={externalMouseDown:_spaces.os.externalEventNotificationMode.EXTERNAL_EVENT_NOTIFICATION_LEFT_MOUSEDOWN,externalRMouseDown:_spaces.os.externalEventNotificationMode.EXTERNAL_EVENT_NOTIFICATION_RIGHT_MOUSEDOWN,externalMouseMove:_spaces.os.externalEventNotificationMode.EXTERNAL_EVENT_NOTIFICATION_MOUSEMOVE,externalMouseWheel:_spaces.os.externalEventNotificationMode.EXTERNAL_EVENT_NOTIFICATION_MOUSEWHEEL},T=t.OS=function(e){function t(){return(0,c.default)(this,t),(0,v.default)(this,(t.__proto__||(0,s.default)(t)).call(this))}return(0,h.default)(t,e),(0,f.default)(t,[{key:"_eventHandler",value:function(e,t,n){if(e)return void this.emit("error","Failed to handle OS event: "+e);this.emit("all",t,n),this.emit(t,n)}},{key:"hasKeyboardFocus",value:function(e){return e=e||{},E.isActiveAsync(e)}},{key:"acquireKeyboardFocus",value:function(e){return e=e||{},E.acquireAsync(e)}},{key:"releaseKeyboardFocus",value:function(e){return e=e||{},E.releaseAsync(e)}},{key:"postEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.postEventAsync(e,t)}},{key:"clipboardRead",value:function(e){var t={formats:e||["string"]};return M.readAsync(t)}},{key:"clipboardWrite",value:function(e,t){var n={data:e,format:t||"string"};return M.writeAsync(n)}},{key:"setTooltip",value:function(e){return b.setTooltipAsync({label:e})}},{key:"resetCursor",value:function(e){return e=e||{},b.resetCursorAsync(e)}},{key:"getTempFilename",value:function(e){var t={name:e||""};return b.getTempFilenameAsync(t)}},{key:"getMouseLocation",value:function(){return _spaces.os.getMouseLocation()}},{key:"getDisplayConfiguration",value:function(e){return e=e||{physicalResolution:!0},_spaces.os.getDisplayConfigurationAsync(e)}},{key:"writeFile",value:function(e){return b.writeFileAsync(e)}},{key:"deleteFile",value:function(e){return b.deleteFileAsync(e)}},{key:"readFile",value:function(e){return b.readFileAsync(e)}},{key:"getStandardFolderPath",value:function(e){return b.getStandardFolderPathAsync(e)}},{key:"registerExternalEventNotification",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._setExternalEventNotification(t)}},{key:"unregisterExternalEventNotification",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._setExternalEventNotification(t,!1)}},{key:"getExternalEventNotificationMode",value:function(){return b.getExternalEventNotificationModeAsync().then(function(e){return(0,i.default)(P).reduce(function(t,n){return n[1]&e&&t.push(n[0]),t},[])})}},{key:"getSharingServices",value:function(e){return b.getSharingServicesAsync(e)}},{key:"getSharingServiceInfo",value:function(e){return b.getSharingServiceInfoAsync(e)}},{key:"shareData",value:function(e){return b.shareDataAsync(e)}},{key:"getAccessibilityInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mainMenu",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return b.getAccessibilityInfoAsync({target:e,depth:t})}},{key:"_setExternalEventNotification",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return b.getExternalEventNotificationModeAsync().then(function(n){return t=n,e}).each(function(e){var r=P[e];if(!r)return w.default.reject("Unsupported external event: "+r);n?t|=r:t^=r}).then(function(){return b.setExternalEventNotificationModeAsync({mode:t})})}}],[{key:"notifierKind",get:function(){return b.notifierKind}},{key:"eventKind",get:function(){return b.eventKind}},{key:"eventModifiers",get:function(){return b.eventModifiers}},{key:"eventKeyCode",get:function(){return b.eventKeyCode}}]),t}(m.default)},221:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.menu||{},n=e.interaction||{},r=new E;_spaces.setNotifier(_spaces.notifierGroup.MENU,t,r._menuEventHandler.bind(r));var o=_spaces.notifierOptions.interaction;return n.notificationKind||(n.notificationKind=o.OPTIONS+o.CONTEXT+o.ERROR),_spaces.setNotifier(_spaces.notifierGroup.INTERACTION,n,r._interactionEventHandler.bind(r)),r}Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0;var a=n(3),i=r(a),u=n(0),s=r(u),l=n(1),c=r(l),d=n(5),f=r(d),p=n(6),v=r(p);t.makeUI=o;var g=n(82),h=r(g),y=n(8),m=r(y),_=m.default.promisifyAll(_spaces.ps.ui),w=m.default.promisify(_spaces.window.setOverlayCloaking),b=_.widgetTypes.CONTROLBAR|_.widgetTypes.DOCUMENT_TABS|_.widgetTypes.PALETTE|_.widgetTypes.TOOLBAR,E=t.UI=function(e){function t(){return(0,s.default)(this,t),(0,f.default)(this,(t.__proto__||(0,i.default)(t)).call(this))}return(0,v.default)(t,e),(0,c.default)(t,[{key:"_menuEventHandler",value:function(e,t,n){if(e)return void this.emit("error","Failed to handle menu event: "+e);this.emit("menu",{command:t,info:n})}},{key:"_interactionEventHandler",value:function(e,t,n){if(e)return void this.emit("error","Failed to handle interaction event: "+e);var r;switch(t){case"progress":r="interactionProgress";break;case"error":r="interactionError";break;case"options":r="interactionOptions";break;case"context":r="interactionContext";break;case"user":r="interactionUser";break;default:return}this.emit(r,{info:n})}},{key:"getOverscrollMode",value:function(){return _.getOverscrollModeAsync()}},{key:"setOverscrollMode",value:function(e){var t={mode:e};return _.setOverscrollModeAsync(t)}},{key:"getSuppressScrollbars",value:function(){return _.getSuppressScrollbarsAsync()}},{key:"setSuppressScrollbars",value:function(e){return _.setSuppressScrollbarsAsync(e)}},{key:"getSuppressTargetPaths",value:function(){return _.getSuppressTargetPathsAsync()}},{key:"setSuppressTargetPaths",value:function(e){return _.setSuppressTargetPathsAsync(e)}},{key:"setClassicChromeVisibility",value:function(e){return this.setSuppressScrollbars(!e).then(function(){return _.setWidgetTypeVisibilityAsync(b,e)})}},{key:"getPointerPropagationMode",value:function(){return _.getPointerPropagationModeAsync()}},{key:"setPointerPropagationMode",value:function(e){return _.setPointerPropagationModeAsync(e)}},{key:"getKeyboardPropagationMode",value:function(){return _.getKeyboardPropagationModeAsync()}},{key:"setKeyboardPropagationMode",value:function(e){return _.setKeyboardPropagationModeAsync(e)}},{key:"setPointerEventPropagationPolicy",value:function(e){return _.setPointerEventPropagationPolicyAsync({policyList:e})}},{key:"setKeyboardEventPropagationPolicy",value:function(e){return _.setKeyboardEventPropagationPolicyAsync({policyList:e})}},{key:"installMenu",value:function(e,t){return void 0===t&&(t=e,e={}),_.installMenuAsync(e,t)}},{key:"setOverlayOffsets",value:function(e){return _.setOverlayOffsetsAsync({offset:e})}},{key:"setOverlayCloaking",value:function(e,t,n){return w({list:e?[e]:[],debug:!1,enable:t,disable:n},{})}},{key:"startEditWithCurrentModalTool",value:function(){return _.startEditWithCurrentModalToolAsync()}},{key:"performIdentify",value:function(e){return _.performIdentifyAsync({globalBounds:e},{})}}],[{key:"overscrollMode",get:function(){return _spaces.ps.ui.overscrollMode}},{key:"pointerPropagationMode",get:function(){return _spaces.ps.ui.pointerPropagationMode}},{key:"keyboardPropagationMode",get:function(){return _spaces.ps.ui.keyboardPropagationMode}},{key:"policyAction",get:function(){return _spaces.ps.ui.policyAction}},{key:"commandKind",get:function(){return _spaces.ps.ui.commandKind}}]),t}(h.default)},231:function(e,t,n){"use strict";function r(){var e=[];return(0,s.getCurrentToolbarSpecification)().play({canExecuteWhileModal:!0}).then(function(t){var n=t.$tlst.concat(t.$oflt).reduce(function(e,t){return e.concat(t)}).map(function(t){var n=t.toolKey.toString(),r=t.keyboardShortcut;return e.push(r),(0,s.getToolInfoByKey)(n)});return l.descriptor.batchPlayObjects(n,{canExecuteWhileModal:!0})}).reduce(function(t,n,r){var o=n.tool;if(!o)return t;var a=o.toolID,i=e[r],u=o.toolTip.split("(")[0].trim();return"en"===c.LANGUAGE&&u.endsWith("Tool")?u=u.substring(0,u.length-4)+"tool":"fr"===c.LANGUAGE&&u.startsWith("Outil")&&(u="o"+u.substring(1)),t.NAMES[a.toUpperCase()]=u,i&&(t[a]=i),t},{NAMES:{}})}function o(){var e=(0,u.getMenuCommands)();return e.descriptor.suppressPlayLevelIncrease=!0,e.descriptor.preventReentrantPlay=!0,e.play({synchronous:!1}).then(function(e){var t=e.menuBarInfo.submenu;if(d.isMac){var n=t.find(function(e){return 1===e.menuID}),r=n&&n.submenu,o=t.findIndex(function(e){return 20===e.menuID}),i=t[o];r&&i&&t.splice(o,1)&&r.push(i)}return a(t)})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.reduce(function(e,t){var r=t.menuID,o=t.command;if(!t.visible||56===r||8===n&&o<0||147===n||15004===o||9069===o)return e;if(t.submenu)a(t.submenu,e,r);else{var u=t.menuShortcut,s="number"==typeof u.functionKey?(0,c.localize)("SHORTCUTS.FUNCTION_KEY",u.functionKey):"",l=u.keyChar||"",d=void 0;d=i(u)+l+s;var f="number"==typeof t.command&&t.command;d&&(e[f]=d)}return e},t)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="MODIFIERS.",n="";return t+=d.isMac?"MAC.":"WIN.",e.controlKey&&(n+=(0,c.localize)(t+"CONTROL")),e.optionKey&&(n+=(0,c.localize)(t+"OPTION")),e.shiftKey&&(n+=(0,c.localize)(t+"SHIFT")),e.commandKey&&(n+=(0,c.localize)(t+"COMMAND")),n}Object.defineProperty(t,"__esModule",{value:!0}),t.getToolShortcuts=r,t.getMenuShortcuts=o;var u=n(88),s=n(89),l=n(46),c=n(37),d=n(16)},293:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if(c)throw new Error("handleUnhandledError already has a handler.");c=e,window.addEventListener("unhandledrejection",function(e){e.preventDefault(),o((0,u.get)(e,"detail.reason")||(0,u.get)(e,"reason"),(0,u.get)(e,"detail.promise")||(0,u.get)(e,"promise"))}),window.onerror=function(e,t,n,r,a){return o(a),!0},s.DEBUG&&(window._simulateUnhandledException=function(){setTimeout(function(){throw new Error("Simulated exception.")},0)},window._simulateUnhandledRejection=function(){i.default.reject(new Error("Simulated rejection."))})}function o(e,t){try{var n=t?"rejection":"exception",r=e&&e.message,o=e&&e.stack;(0,l.warn)("Unhandled "+n+": "+r+". Stack trace: "+o),c(n,r,o)}finally{s.DEBUG||s.TEST||setTimeout(function(){return window.location.reload()},1e3)}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(142),i=function(e){return e&&e.__esModule?e:{default:e}}(a);t.handleUnhandledError=r;var u=n(24),s=n(16),l=n(11),c=null},298:function(e,t,n){"use strict";function r(){return d.getVisibilityAsync({})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d.setVisibilityAsync(e,t)}function a(){return d.getBoundsAsync({})}function i(e){if(!e.bounds&&!e.globalBounds)throw new Error("window.setBounds requires either bounds or globalBounds objects");return d.setBoundsAsync(e,{})}function u(){return d.getLevelAsync({}).get("level")}function s(e){if(!f.hasOwnProperty(e))throw new Error("window.setLevel called with an invalid level "+e);return d.setLevelAsync({level:f[e]},{})}Object.defineProperty(t,"__esModule",{value:!0}),t.getVisibility=r,t.setVisibility=o,t.getBounds=a,t.setBounds=i,t.getLevel=u,t.setLevel=s;var l=n(8),c=function(e){return e&&e.__esModule?e:{default:e}}(l),d=c.default.promisifyAll(_spaces.window),f={utility:_spaces.window.level.UTILITY,contextual:_spaces.window.level.CONTEXTUAL_UI}},312:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return(0,H.assert)("layer"===K(e),"reorder is passed a non-layer reference"),new R.default("move",{adjustment:!1,null:e,to:t,version:5})}function a(e,t){return(0,H.assert)("layer"===K(e),"align is passed a non-layer reference"),new R.default("align",{null:e,using:{_enum:"alignDistributeSelector",_value:a.vals[t]}})}function i(e,t){return(0,H.assert)("layer"===K(e),"distribute is passed a non-layer reference"),new R.default("distort",{null:e,using:{_enum:"alignDistributeSelector",_value:a.vals[t]}})}function u(e,t,n){return n=n||"select",t=t||!1,(0,H.assert)("layer"===K(e),"select is passed a non-layer reference"),new R.default("select",{null:e,makeVisible:t,selectionModifier:{_enum:"selectionModifierType",_value:u.vals[n]}})}function s(){return new R.default("selectNoLayers",{null:W.target})}function l(e){return(0,H.assert)("layer"===K(e),"hide is passed a non-layer reference"),new R.default("hide",{null:e})}function c(e){return(0,H.assert)("layer"===K(e),"show is passed a non-layer reference"),new R.default("show",{null:e})}function d(e,t,n){(0,H.assert)("layer"===K(e[0]),"duplicate is passed a non-layer first-from reference"),(0,H.assert)("document"===K(e[1]),"duplicate is passed a non-layer second-from reference"),(0,H.assert)("document"===K(t),"duplicate is passed a non-document to reference");var r={null:{_ref:e},to:t};return void 0!==n&&(r.name=n),new R.default("duplicate",r)}function f(e,t){return(0,H.assert)("layer"===K(e),"flip is passed a non-layer reference"),new R.default("flip",{null:e,axis:{_enum:"orientation",_value:t}})}function p(e,t,n){return(0,H.assert)("layer"===K(e),"setPosition is passed a non-layer reference"),new R.default("transform",{null:e,snapToDocBounds:!0,relative:!1,position:{_obj:"position",_value:{horizontal:(0,F.pixels)(t),vertical:(0,F.pixels)(n)}}})}function v(e,t,n,r,o,a){(0,H.assert)("layer"===K(e),"setHeight is passed a non-layer reference");var i={null:e,snapToDocBounds:!0};return t&&(i.width=(0,F.pixels)(t)),n&&(i.height=(0,F.pixels)(n)),void 0===r||r?i.relative=!0:(i.relative=!1,(0,H.assert)(void 0!==o&&void 0!==a,"Calling setSize with absolute flag with no x,y provided"),i.position={_obj:"position",_value:{horizontal:(0,F.pixels)(o),vertical:(0,F.pixels)(a)}}),new R.default("transform",i)}function g(e,t){return(0,H.assert)("layer"===K(e),"rotate is passed a non-layer reference"),new R.default("transform",{null:e,snapToDocBounds:!0,angle:(0,F.angle)(t)})}function h(e,t){return(0,H.assert)("layer"===K(e),"setOpacity is passed a non-layer reference"),new R.default("set",{null:e,to:{_obj:"to",_value:{opacity:(0,F.percent)(t)}}})}function y(e,t){return(0,H.assert)("layer"===K(e),"setFillOpacity is passed a non-layer reference"),new R.default("set",{null:e,to:{_obj:"to",_value:{fillOpacity:(0,F.percent)(t)}}})}function m(e,t){return(0,H.assert)("layer"===K(e),"setBlendMode is passed a non-layer reference"),new R.default("set",{null:e,to:{_obj:"layer",_value:{mode:{_enum:"blendMode",_value:t}}}})}function _(e,t){return(0,H.assert)("layer"===K(e),"setProportionalScaling is passed a non-layer reference"),new R.default("set",{null:e,to:{_obj:"layer",_value:{proportionalScaling:t}}})}function w(e){return new R.default("set",{layerID:e,null:{_property:"background",_ref:"layer"},to:{_obj:"layer",_value:{mode:{_enum:"blendMode",_value:"normal"},opacity:{_unit:"percentUnit",_value:100}}}})}function b(e){return(0,H.assert)("layer"===K(e),"deleteLayer is passed a non-layer reference"),new R.default("delete",{null:e})}function E(e,t){return(0,H.assert)("layer"===K(e),"renameLayer is passed a non-layer reference"),new R.default("set",{null:e,to:{_obj:"layer",_value:{name:t}}})}function M(){return new R.default("make",{from:W.target,null:{_ref:"layerSection"}})}function P(e,t){(0,H.assert)("layer"===K(e),"setLocking is passed a non-layer reference");var n=t?{protectAll:!0}:{protectNone:!0};return new R.default("applyLocking",{null:e,group:!0,layerLocking:{_obj:"layerLocking",_value:n}})}function T(e,t,n){(0,H.assert)("layer"===K(e),"translate is passed a non-layer reference");var r=(0,F.pixels)(t||0),o=(0,F.pixels)(n||0);return new R.default("move",{null:e,to:{_obj:"point",horizontal:r,vertical:o},suppressPlayLevelIncrease:!0})}function A(e,t,n){return(0,H.assert)("layer"===K(e),"setGroupExpansion is passed a non-layer reference"),e=Array.isArray(e)?e.slice(0).reverse():[e],e.unshift({_property:"layerSectionExpanded",_ref:null}),new R.default("set",{null:{_ref:e},to:t,recursive:Boolean(n)})}function O(e,t,n){var r,o;return r=(0,N.default)(e)?(0,U.wrapper)("document").id(e):e,o=(0,N.default)(t)?W.id(t):t,{_ref:[{_ref:null,_property:n},{_ref:null,_property:"layerExtensionData"},o,r]}}function I(e,t,n){return new R.default("get",{null:O(e,t,n)})}function C(e,t,n,r,o){var a={};return a[r]=o,new R.default("set",{null:O(e,t,n),to:a})}function k(e){return new R.default("placedLayerReplaceContents",{null:{_path:e}})}function D(e){return new R.default("placedLayerExportContents",{null:{_path:e}})}function S(){return new R.default("placedLayerConvertToEmbedded",{})}function x(e){return new R.default("placedLayerRelinkToFile",{null:{_path:e}})}Object.defineProperty(t,"__esModule",{value:!0}),t.layerKinds=t.referenceOf=t.referenceBy=void 0;var L=n(164),N=r(L),j=n(134),B=r(j);t.reorder=o,t.align=a,t.distribute=i,t.select=u,t.deselectAll=s,t.hide=l,t.show=c,t.duplicate=d,t.flip=f,t.setPosition=p,t.setSize=v,t.rotate=g,t.setOpacity=h,t.setFillOpacity=y,t.setBlendMode=m,t.setProportionalScaling=_,t.unlockBackgroundLayer=w,t.deleteLayer=b,t.renameLayer=E,t.groupSelectedLayers=M,t.setLocking=P,t.translate=T,t.setGroupExpansion=A,t.getExtensionData=I,t.setExtensionData=C,t.replaceContents=k,t.exportContents=D,t.embedLinked=S,t.relinkToFile=x;var G=n(66),R=r(G),U=n(67),F=n(165),H=n(90),W=t.referenceBy=(0,U.wrapper)("layer"),K=t.referenceOf=U.refersTo;t.layerKinds=(0,B.default)({},{ANY:{writeable:!1,enumerable:!0,value:0},PIXEL:{writeable:!1,enumerable:!0,value:1},ADJUSTMENT:{writeable:!1,enumerable:!0,value:2},TEXT:{writeable:!1,enumerable:!0,value:3},VECTOR:{writeable:!1,enumerable:!0,value:4},SMARTOBJECT:{writeable:!1,enumerable:!0,value:5},VIDEO:{writeable:!1,enumerable:!0,value:6},GROUP:{writeable:!1,enumerable:!0,value:7},"3D":{writeable:!1,enumerable:!0,value:8},GRADIENT:{writeable:!1,enumerable:!0,value:9},PATTERN:{writeable:!1,enumerable:!0,value:10},SOLIDCOLOR:{writeable:!1,enumerable:!0,value:11},BACKGROUND:{writeable:!1,enumerable:!0,value:12},GROUPEND:{writeable:!1,enumerable:!0,value:13}});a.vals={left:"ADSLefts",right:"ADSRights",horizontally:"ADSCentersH",center:"ADSCentersH",hCenter:"ADSCentersH",middle:"ADSCentersV",vCenter:"ADSCentersV",vertically:"ADSCentersV",top:"ADSTops",bottom:"ADSBottoms"},u.vals={select:"0",deselect:"removeFromSelection",add:"addToSelection",addUpTo:"addToSelectionContinuous"}},313:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return b.descriptor.getProperty("application","kuiBrightnessLevel").get("_value").then(function(e){var t=void 0;switch(e){case"kPanelBrightnessOriginal":t=E.ORIGINAL;break;case"kPanelBrightnessLightGray":t=E.LIGHT;break;case"kPanelBrightnessMediumGray":t=E.MEDIUM;break;case"kPanelBrightnessDarkGray":t=E.DARK;break;default:t=E.MEDIUM}return t})}function a(){return b.descriptor.getProperty("application","$wlcm").then(function(e){return{first:e.first,last:e.last}}).catch(function(e){if("No such property: $wlcm"===e.message)throw new Error("User is not logged in");throw e})}function i(){return b.descriptor.get("historyState").get("ID")}function u(e){return b.descriptor.play("open",{null:{_path:e}},{})}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=m.referenceBy.id(e),r=(0,g.default)({documentID:e,forceNotify:Boolean(t.forceNotify),saving:{_enum:"yesNo",_value:t.save?"yes":"no"}},t);return(0,m.selectDocument)(n).play().then(function(){return b.descriptor.play("close",r,{interactionMode:t.interactionMode?w.Descriptor.interactionMode[t.interactionMode]:w.Descriptor.interactionMode.DISPLAY})})}function l(){var e={range:"layer",index:1,count:-1},t=["layerID","name"];return b.descriptor.getPropertiesRange(m.referenceBy.current,e,t).then(function(e){return e.reduce(function(e,t){return t.layerID>e.layerID?t:e},e[0])})}function c(e){return(0,_.getFeatureMeta)(e).play().get("metadata")}function d(e){return(0,_.getFeatureActive)(e).play({canExecuteWhileModal:!0}).get("active")}function f(){return b.descriptor.getProperty("application","$bhnc").catch(function(e){if("No such property: $bhnc"===e.message)throw new Error("User is not logged in");throw e})}function p(){return b.descriptor.getProperty("application","$wlcm").then(function(e){return{sessionID:e.sessionID,optin:e.optin}}).catch(function(e){if("No such property: $wlcm"===e.message)throw new Error("User is not logged in");throw e})}Object.defineProperty(t,"__esModule",{value:!0}),t.HIGHLIGHT_COLOR=t.COLOR_STOPS=void 0;var v=n(38),g=r(v),h=n(156),y=r(h);t.getPSColorStop=o,t.getUserName=a,t.getHistoryStateID=i,t.openFile=u,t.closeFile=s,t.getMostRecentLayer=l,t.getFeatureMeta=c,t.getFeatureActive=d,t.getAdobeID=f,t.getHighbeamSession=p;var m=n(163),_=n(88),w=n(87),b=n(46),E=t.COLOR_STOPS=(0,y.default)({ORIGINAL:"original",LIGHT:"light",MEDIUM:"medium",DARK:"dark"});t.HIGHLIGHT_COLOR=(0,y.default)({DEFAULT:"default",BLUE:"blue"})},319:function(e,t,n){"use strict";function r(e,t){return(0,u.showPanel)("panelid.static.learn").play().then(function(){return(0,l.sendMessage)("Learn_Panel","showTutorial",{tutorial:e,source:t},{mayEnqueue:!0})})}function o(){return i.default.resolve((0,s.getFromLocalStorage)("com.adobe.photoshop.learn.tutorial_list",[]))}Object.defineProperty(t,"__esModule",{value:!0}),t.openLearnPanel=r,t.requestTutorialInfo=o;var a=n(8),i=function(e){return e&&e.__esModule?e:{default:e}}(a),u=n(89),s=n(65),l=n(320)},320:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){var r=w.get(e);r||(r=new E(e),w.set(e,r)),r.addHandledMessage(t,n)}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return b||(b=new M),b.dispatch(e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(100),u=r(i),s=n(0),l=r(s),c=n(1),d=r(c),f=n(29),p=r(f);t.registerMessage=o,t.sendMessage=a;var v=n(8),g=r(v),h=n(120),y=n(11),m=n(16),_="spaces-utils/MESSAGE_DISPATCHER",w=new p.default,b=void 0,E=function(){function e(t){(0,l.default)(this,e),this._handlerMapping=new p.default,this._handleMessage=this._handleMessage.bind(this),(0,h.setNotifier)(t,this._handleMessage)}return(0,d.default)(e,[{key:"addHandledMessage",value:function(e,t){this._handlerMapping.set(e,t)}},{key:"_handleMessage",value:function(e,t,n){if(!e&&t){var r=this._handlerMapping.get(t);if(!r)return void(0,y._debug)('[Messages] Skip unhandled message "'+t+'"');var o=n.jobID,a=!1;delete n.jobID,(0,y._debug)("[Messages] Received message "+t+". Descriptor:",n),r(n,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a)throw new Error("[message] the `done` callback should not be called more than once.");a=!0,e?(0,y._debug)("[Messages] Failed to process message "+t+". Error:",e):(0,y._debug)("[Messages] Processed message "+t+". Results:",n),(0,h.sendNotification)(_,"MESSAGE_PROCESSED",{jobID:o,results:n,errMessage:e})})}}},{key:"handledMessages",get:function(){return(0,u.default)(this._handlerMapping.keys())}}]),e}(),M=function(){function e(){(0,l.default)(this,e),this._pendingJobs=new p.default,this._handleMessage=this._handleMessage.bind(this),(0,h.setNotifier)(_,this._handleMessage)}return(0,d.default)(e,[{key:"_handleMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.jobID,o=n.errMessage,a=n.results;if(!e&&"MESSAGE_PROCESSED"===t&&this._pendingJobs.has(r)){var i=this._pendingJobs.get(r);o?((0,y._debug)('[Messages] Message failed "'+i.client+" - "+i.message+'" . Error:',o),i.reject(o)):((0,y._debug)('[Messages] Message processed "'+i.client+" - "+i.message+'" (took '+(Date.now()-i.sentAt)+"ms)","Results:",a),i.resolve(a)),this._pendingJobs.delete(r)}}},{key:"dispatch",value:function(e,t,n,r){var o=this;return new g.default(function(a,i){var u=Date.now(),s=Date.now();o._pendingJobs.set(u,{resolve:a,reject:i,jobID:u,client:e,message:t,sentAt:s}),n.jobID=u,(0,h.sendNotification)(e,t,n,r),(0,y._debug)('[Messages] Sent message "'+e+" - "+t+'"')})}}]),e}();m.DEBUG&&(window._sendMessage=a,window._printRegisteredMessages=function(){w.forEach(function(e,t){e.handledMessages.forEach(function(e){(0,y.debug)('_sendMessage("'+t+'", "'+e+'")')})})})},37:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];C=e;var r=C?(0,w.getFromLocalStorage)(C):y.default.resolve(),o=t?(0,b.getMenuShortcuts)():y.default.resolve(),i=n?(0,b.getToolShortcuts)():y.default.resolve();return y.default.join(r,o,i,function(e,r,o){I=(0,m.merge)(O,e),t&&a({MENUS:r}),n&&a({TOOLS:o})})}function a(e){I[A]||(I[A]={}),(0,m.merge)(I[A],e),C&&(0,w.setInLocalStorage)(C,I)}function i(e,t){var n=I[t||A]||I[P];return(0,m.get)(n,e)}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.replace(/{(\d)}/g,function(e,t){var r=(0,g.default)(t,10);return(0,p.default)(r)?e:n[r]})}function s(e){var t=i(e);t||(t=i(e,P)),t||((0,_.warn)('[nls] No translation for key "'+e+'"'),t=e);for(var n=arguments.length,r=Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=u.apply(void 0,[t].concat(r));return M.default.testLocale?a+a:a}function l(e){return Boolean(i(e)||i(e,P))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments[2],r=M.default.inlineRegExp;return e.split(r).map(function(e){var o=e.match(r)&&e.slice(1,-1);o&&o.endsWith(".MAC")&&!E.isMac&&(o=o.slice(0,-4)+".WIN");var a=o&&d(o,t);return a?n?n(a):a.translation:e})}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=void 0;return 0===t.length?l(e)&&(n={translation:s(e),term:e}):t.forEach(function(t){var r=[t,e].join(".");l(r)&&(n={translation:s(r),key:e,dictionary:t})}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.LANGUAGE=t.LOCALE=void 0;var f=n(223),p=r(f),v=n(226),g=r(v);t.initializeDictionaries=o,t.addToDictionary=a,t.lookup=i,t.expand=u,t.localize=s,t.hasTranslation=l,t.expandText=c;var h=n(8),y=r(h),m=n(24),_=n(11),w=n(65),b=n(231),E=n(16),M=r(E),P="en",T={ja:"ja-JP","es-419":"es-MX"},A=(t.LOCALE=function(){var e=window.navigator.languages[0];return T[e]||e}(),t.LANGUAGE=function(){var e=window.navigator.language;return 2===e.length||e.includes("zh-")?e:e.split("-")[0]}()),O=function(){var e=n(236);return(0,_._debug)("[nls] Load dictionaries for "+e.length+" languages"),e.keys().reduce(function(t,n){var r=n.match(/^\.\/(.*)\/.*\.json$/)[1],o=e(n);return t[r]||(t[r]={}),t[r]=(0,m.mergeWith)(t[r],o,function(e,t){if((0,m.isArray)(e)&&(0,m.isArray)(t))return e.concat(t)}),t},{})}(),I=O,C=void 0},46:function(e,t,n){"use strict";function r(e){var t=e.map(function(e){return{event:e,universal:!0}});s.setHandledEvents(t)}function o(e){l.setHandledEvents(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.messages=t.os=t.descriptor=void 0,t.setDescriptorEvents=r,t.setMessageEvents=o;var a=n(183),i=n(120),u=n(87),s=t.descriptor=(0,u.makeDescriptor)({events:[]}),l=(t.os=(0,a.makeOS)(),t.messages=(0,i.makeMessages)({events:[]}))},65:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return(0,g.readPreferences)().then(function(n){if(!n||!n[e])return t;var r=n[e];return r.expiresAt&&r.expiresAt<Date.now()?i(e).return(t):r.value})}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e&&(null!==t&&void 0!==t||n.remove)?(0,g.readPreferences)().then(function(r){if(r||(r={}),n.remove)delete r[e];else{var o=null;n.expires&&(o=Date.now()+n.expires),r[e]={value:t,expiresAt:o}}return(0,g.writePreferences)(r)}):v.default.reject(new Error("The key and value params are required. To unset a key, use 'removeItem'."))}function i(e){return a(e,null,{remove:!0})}function u(e,t){return JSON.parse(window.localStorage.getItem(e))||t}function s(e,t,n){var r=JSON.parse(window.localStorage.getItem(e))||{};r[t]=n;var o=(0,f.default)(r);window.localStorage.setItem(e,o)}function l(e,t){var n=(0,f.default)(t);window.localStorage.setItem(e,n)}function c(e){window.localStorage.removeItem(e)}Object.defineProperty(t,"__esModule",{value:!0});var d=n(131),f=r(d);t.getItem=o,t.setItem=a,t.removeItem=i,t.getFromLocalStorage=u,t.addToLocalStorageMap=s,t.setInLocalStorage=l,t.deleteFromLocalStorage=c;var p=n(8),v=r(p),g=n(132)},66:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(135),a=r(o),i=n(0),u=r(i),s=n(1),l=r(s),c=n(87),d=new c.Descriptor({events:[]}),f=function(){function e(t,n,r){(0,u.default)(this,e),this.command=t,this.descriptor=n,this.options={interactionMode:c.Descriptor.interactionMode.SILENT},void 0!==r&&(0,a.default)(r).forEach(function(e){this.options[e]=r[e]},this)}return(0,l.default)(e,[{key:"play",value:function(e){return d.playObject(this,e)}}]),e}();t.default=f},67:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return r(e[e.length-1]);var t=e._ref;return Array.isArray(t)?t[0]._ref:e._ref}function o(e){var t=function t(n,r){if(Array.isArray(r))return{_ref:r.map(t.bind(null,n))};var o={_ref:e};return o[n]=r,o},n=function(t,n){return{_ref:e,_enum:t,_value:n}};return{index:t.bind(null,"_index"),id:t.bind(null,"_id"),offset:t.bind(null,"_offset"),name:t.bind(null,"_name"),target:n("ordinal","targetEnum"),current:n("ordinal","targetEnum"),front:n("ordinal","front"),back:n("ordinal","back"),all:n("ordinal","allEnum"),none:n("ordinal","none"),next:n("ordinal","next"),previous:n("ordinal","previous")}}Object.defineProperty(t,"__esModule",{value:!0}),t.refersTo=r,t.wrapper=o},87:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return Array.isArray(e)?e=(0,E.default)(E.default.cloneDeep(e)).map(function(e){return o(e)}).reverse().value():"string"==typeof e?e={_ref:e,_enum:"ordinal",_value:"targetEnum"}:e.hasOwnProperty("null")&&(e.null=o(e.null)),t?e={_multiGetRef:[{_propertyList:t}].concat(e)}:Array.isArray(e)&&(e={_ref:e}),e}function a(e,t){var n={_ref:"property",_property:t};return Array.isArray(e)?e.concat(n):[e,n]}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new T(e);return t.unpause(),t}Object.defineProperty(t,"__esModule",{value:!0}),t.Descriptor=void 0;var u=n(29),s=r(u),l=n(3),c=r(l),d=n(0),f=r(d),p=n(1),v=r(p),g=n(5),h=r(g),y=n(6),m=r(y);t.makeDescriptor=i;var _=n(8),w=r(_),b=n(24),E=r(b),M=n(121),P=r(M),T=function(e){function t(e){(0,f.default)(this,t);var n=(0,h.default)(this,(t.__proto__||(0,c.default)(t)).call(this,_spaces.notifierGroup.PHOTOSHOP,e));return n._transactionIDCounter=0,n._transactions=new s.default,n._batchPlayAsync=w.default.promisify(_spaces.ps.descriptor.batchPlay,{context:_spaces.ps.descriptor,multiArgs:!0}),n._getAsync=w.default.promisify(_spaces.ps.descriptor.get,{context:_spaces.ps.descriptor}),n}return(0,m.default)(t,e),(0,v.default)(t,[{key:"get",value:function(e,t){void 0===t&&(t={});var n=o(e);return this._getAsync(n,t)}},{key:"getProperty",value:function(e,t,n){var r=a(e,t);return this.get(r,n).then(function(e){if(!e||!e.hasOwnProperty(t))throw new Error("No such property: "+t);return e[t]})}},{key:"setProperty",value:function(e,t,n,r){if(!e.hasOwnProperty("_ref"))throw new Error("You must pass a full reference to setProperty or else PS will crash!");var o=a(e,t).reverse(),i={_obj:t,_value:n},u={null:{_ref:o},to:i};return this.play("set",u,r)}},{key:"getPropertiesRange",value:function(e,t,n,r){var o=t.range,a=t.hasOwnProperty("index")?t.index:1,i=t.hasOwnProperty("count")?t.count:-1;void 0===r&&(r={});var u={_multiGetRef:[{_propertyList:n},{_range:o,_index:a,_count:i},e]};return this._getAsync(u,r).get("list")}},{key:"getPropertyRange",value:function(e,t,n,r){return this.getPropertiesRange(e,t,[n],r).then(function(e){return E.default.map(e,n)})}},{key:"play",value:function(e,t,n){var r=[{name:e,descriptor:t||{}}];return this.batchPlay(r,n).get(0)}},{key:"playObject",value:function(e,t){return this.batchPlayObjects([e],t).get(0)}},{key:"_batchPlayImmediate",value:function(e,n){return n.hasOwnProperty("interactionMode")||(n.interactionMode=t.interactionMode.SILENT),this._batchPlayAsync(e,n).then(function(e){if(n.continueOnError)return e;var t;if(e[1].some(function(e){if(e)return t=e,!0}),t)throw t;return e[0]})}},{key:"_addToTransaction",value:function(e,t,n){var r=this._transactions.get(e);if(!r)throw new Error("Invalid transaction ID: "+e);var o=r.txOptions,a=E.default.merge(r.options,n,function(e,t,n){if(void 0===e)return t;if(void 0===t)return e;if(o.hasOwnProperty(n)||E.default.isEqual(e,t))return e;throw new Error("Incompatible options in transaction.")});return r.options=a,r.commands=r.commands.concat(t),w.default.resolve(new Array(t.length))}},{key:"beginTransaction",value:function(e){var t=this._transactionIDCounter++,n={txOptions:e||{},options:{},commands:[]};return this._transactions.set(t,n),t}},{key:"endTransaction",value:function(e){var t=this._transactions.get(e);if(!t)throw new Error("Invalid transaction ID: "+e);var n=E.default.merge(t.options,t.txOptions);return this._batchPlayImmediate(t.commands,n).bind(this).tap(function(){this._transactions.delete(e)})}},{key:"batchPlay",value:function(e,t){return t=t||{},0===e.length?w.default.resolve(t.continueOnError?[[],[]]:[]):t.hasOwnProperty("transaction")?this._addToTransaction(t.transaction,e,t):this._batchPlayImmediate(e,t)}},{key:"batchPlayObjects",value:function(e,t){var n=e.map(function(e){var t={name:e.command,descriptor:o(e.descriptor)};return e.hasOwnProperty("options")&&(t.options=e.options),t});return this.batchPlay(n,t)}},{key:"batchGet",value:function(e,t){var n=e.map(function(e){return{name:"get",descriptor:{null:o(e)}}});return this.batchPlay(n,t)}},{key:"batchGetProperties",value:function(e,t){t=t||{};var n=e.map(function(e){return a(e.reference,e.property)});return this.batchGet(n,t).then(function(n){return t.continueOnError?n:n.map(function(t,n){var r=e[n].property;if(!t||!t.hasOwnProperty(r))throw new Error("No such property: "+r);return t[r]})})}},{key:"batchGetOptionalProperties",value:function(e,t){var n=t.map(function(t){return{reference:e,property:t}}),r={continueOnError:!0};return this.batchGetProperties(n,r).then(function(e){return e[0].reduce(function(e,n,r){var o=t[r];return n&&n.hasOwnProperty(o)&&(e[o]=n[o]),e},{})})}},{key:"batchGetProperty",value:function(e,t,n){var r=e.map(function(e){return{reference:e}});return this.batchGetProperties(r,n)}},{key:"batchMultiGetProperties",value:function(e,t,n){if(0===t.length)return w.default.resolve([{}]);void 0===n&&(n={});var r={useMultiGet:!0,failOnMissingProperty:!n.continueOnError},a=e.map(function(e){return{name:"get",descriptor:{null:o(e,t)},options:r}});return this.batchPlay(a,n).then(function(e){return n.continueOnError?e[0]:e})}},{key:"multiGetOptionalProperties",value:function(e,t,n){return 0===t.length?w.default.resolve({}):(void 0===n&&(n={}),this._getAsync(o(e,t),n))}},{key:"multiGetProperties",value:function(e,t,n){return void 0===n&&(n={}),n.failOnMissingProperty=!0,this.multiGetOptionalProperties(e,t,n).tap(function(e){t.forEach(function(t){if(!e.hasOwnProperty(t))throw new Error("No such property: "+t)})})}}],[{key:"interactionMode",get:function(){return _spaces.ps.descriptor.interactionMode}}]),t}(P.default);t.Descriptor=T},88:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=!e;return new g.default("get",{null:{_ref:[{_ref:"property",_property:"fontList"},{_ref:"application",_enum:"ordinal",_value:"targetEnum"}]},fontNativeFullName:t,fontNativeFamilyName:t,fontNativeStyleName:t})}function a(e){return new g.default("set",{null:{_ref:[{_ref:null,_property:"kuiBrightnessLevel"},y.current]},to:{_enum:"uiBrightnessLevelEnumType",_value:e}})}function i(e){return new g.default("set",{null:{_ref:[{_ref:null,_property:"addCopyToLayerNames"},y.current]},addCopyToLayerNames:e||!1})}function u(e){return new g.default("set",{null:{_ref:[{_property:"generalPreferences",_ref:"property"},y.current]},to:{_obj:"generalPreferences",_value:e||{}}})}function s(){var e={null:{_ref:[{_ref:null,_property:"newDocPresetJSON"},{_ref:"application",_enum:"ordinal",_value:"targetEnum"}]}};return new g.default("get",e)}function l(){var e={null:{_ref:[{_ref:null,_property:"menuBarInfo"},{_ref:"application",_enum:"ordinal",_value:"targetEnum"}]}};return new g.default("get",e)}function c(e){var t={null:y.current,command:"getFeatureMeta",feature:e};return new g.default("featureInfo",t)}function d(e){var t={null:y.current,command:"getFeatureActive",feature:e};return new g.default("featureInfo",t)}Object.defineProperty(t,"__esModule",{value:!0}),t.colorStops=t.referenceBy=void 0;var f=n(134),p=r(f);t.getFontList=o,t.setColorStop=a,t.setAddCopyToLayerNames=i,t.setGlobalPreferences=u,t.getDocumentPresets=s,t.getMenuCommands=l,t.getFeatureMeta=c,t.getFeatureActive=d;var v=n(66),g=r(v),h=n(67),y=t.referenceBy=(0,h.wrapper)("application");t.colorStops=(0,p.default)({},{ORIGINAL:{writeable:!1,enumerable:!0,value:"kPanelBrightnessOriginal"},LIGHT:{writeable:!1,enumerable:!0,value:"kPanelBrightnessLightGray"},MEDIUM:{writeable:!1,enumerable:!0,value:"kPanelBrightnessMediumGray"},DARK:{writeable:!1,enumerable:!0,value:"kPanelBrightnessDarkGray"}})},89:function(e,t,n){"use strict";function r(){return new _.default("owlAction",{null:E.current,owlCommand:"getPanelList"})}function o(e){return new _.default("owlAction",{null:E.current,owlCommand:"getPanelInfo",owlPanelID:e})}function a(e){return new _.default("owlAction",{null:E.current,owlCommand:"show",owlPanelID:e})}function i(e){return new _.default("owlAction",{null:E.current,owlCommand:"close",owlPanelID:e})}function u(e){return new _.default("owlAction",{null:E.current,owlCommand:"identify",owlPanelID:e})}function s(){return new _.default("owlAction",{null:E.current,owlCommand:"getApplicationFrameInfo"})}function l(e,t){(0,b.assert)("layer"===(0,w.refersTo)(e),"getLayersPanelInfo requires a layer reference");var n={null:e};return t&&(n.view=t),new _.default("getLayersPanelInfo",n)}function c(){return new _.default("uiInfo",{null:E.current,command:"getToolList"})}function d(){return new _.default("uiInfo",{null:E.current,command:"getCurrentToolbarSpecification"})}function f(e){return new _.default("uiInfo",{null:E.current,command:"getToolInfo",toolID:e})}function p(e){return new _.default("uiInfo",{null:E.current,command:"getToolInfo",toolKey:e})}function v(){return new _.default("uiInfo",{null:E.current,command:"getViewList"})}function g(e,t){return new _.default("uiInfo",{null:E.current,command:"getViewInfo",panel:e,viewID:t})}function h(e){return new _.default("uiInfo",{null:E.current,command:"getModalViewInfo",viewID:e})}function y(e){return new _.default("uiInfo",{null:E.current,command:"getCommandEnabled",commandID:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getPanelList=r,t.getPanelInfo=o,t.showPanel=a,t.closePanel=i,t.identifyPanel=u,t.getApplicationFrameInfo=s,t.getLayersPanelInfo=l,t.getToolList=c,t.getCurrentToolbarSpecification=d,t.getToolInfo=f,t.getToolInfoByKey=p,t.getViewList=v,t.getViewInfo=g,t.getModalViewInfo=h,t.getCommandEnabled=y;var m=n(66),_=function(e){return e&&e.__esModule?e:{default:e}}(m),w=n(67),b=n(90),E=(0,w.wrapper)("application")},90:function(e,t,n){"use strict";function r(e,t){console.assert(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.assert=r}});