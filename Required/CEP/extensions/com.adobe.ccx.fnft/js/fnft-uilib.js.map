{"version":3,"sources":["riot.js","big.min.js","cooldown.js","i18n.js","scroll-end.js","spcmixin.js","tooltip.js","unitConversion.js"],"names":["window","undefined","mkitem","expr","key","val","item","pos","unmountRedundant","items","tags","t","i","length","j","splice","unmount","moveNestedTags","child","Object","keys","forEach","tagName","tag","isArray","each","moveChildTag","addVirtual","src","target","sib","el","_root","_virts","nextSibling","insertBefore","appendChild","push","moveVirtual","len","insertTag","isVirtual","prevTag","newTag","root","virtualFn","dom","isInStub","childNodes","_each","parent","remAttr","hasKeys","mustReorder","getAttr","T_STRING","getTagName","impl","__tagImpl","tmpl","getOuterHTML","useRoot","SPECIAL_TAGS_REGEX","test","parentNode","ref","document","createTextNode","getTag","isOption","toLowerCase","oldItems","loopKeys","one","removeChild","stub","on","frag","createDocumentFragment","map","itemsLength","_mustReorder","T_OBJECT","oldPos","indexOf","Tag","isLoop","hasImpl","cloneNode","innerHTML","mount","firstChild","update","contains","_item","defineProperty","FIREFOX","multiple","n","__riot1374","selectedIndex","slice","parseNamedElements","childTags","forceParsingNamed","walk","nodeType","initChildTag","setNamed","parseExpressions","expressions","addExpr","extra","hasExpr","extend","attr","type","nodeValue","attributes","name","bool","split","value","conf","updateOpts","ctx","self","opts","toCamel","normalizeData","data","T_UNDEF","isWritable","inheritFrom","k","mustSync","RESERVED_WORDS_BLACKLIST","propsInSyncWithParent","onChildUpdate","toggle","isMount","evt","riot","observable","this","inherit","cleanUpData","_tag","isMounted","__uid","mkdom","isInherited","isObject","trigger","rAF","arguments","mix","instance","obj","props","mixin","isFunction","proto","getPrototypeOf","concat","getOwnPropertyNames","descriptor","getOwnPropertyDescriptor","hasGetterSetter","get","set","hasOwnProperty","bind","init","globalMixin","GLOBAL_MIXIN","_parent","fn","call","attrs","walkAttributes","v","setAttr","keepRootTag","ptag","p","tagIndex","__virtualDom","getImmediateCustomParentTag","_riot_id","RIOT_TAG_IS","RIOT_TAG","off","setEventHandler","handler","e","event","currentTarget","srcElement","which","charCode","keyCode","preventDefault","returnValue","preventUpdate","insertTo","node","before","attrName","IE_VERSION","add","remove","inStub","style","display","startsWith","RIOT_PREFIX","els","T_FUNCTION","outerHTML","container","mkEl","setInnerHTML","html","doc","DOMParser","parseFromString","ownerDocument","importNode","documentElement","isSVGTag","SVG_TAGS_LIST","removeAttribute","string","replace","_","c","toUpperCase","getAttribute","xlink","XLINK_REGEX","exec","setAttributeNS","XLINK_NS","setAttribute","addChildTag","cachedTag","newPos","options","enumerable","writable","configurable","namedTag","args","arr","a","Array","o","m","re","isSvg","createElementNS","createElement","$$","selector","querySelectorAll","$","querySelector","create","getNamedKey","isArr","str","mountTo","_innerHTML","version","settings","documentMode","InstallTrigger","onEachEvent","es","l","callbacks","prototype","defineProperties","events","typed","cb","apply","fns","arglen","busy","DEFAULT_PARSER","path","DEFAULT_SECOND_PARSER","filter","RegExp","REPLACE","match","debounce","delay","clearTimeout","setTimeout","start","autoExec","debouncedEmit","emit","win","ADD_EVENT_LISTENER","POPSTATE","HASHCHANGE","clickEvent","click","Router","central","s","normalize","isString","getPathFromRoot","href","loc","RE_ORIGIN","getPathFromBase","base","force","first","isRoot","emitStackLevel","MAX_EMIT_STACK_LEVEL","emitStack","current","TRIGGER","shift","metaKey","ctrlKey","shiftKey","defaultPrevented","nodeName","HAS_ATTRIBUTE","go","title","shouldReplace","hist","replaceState","pushState","routeFound","parser","secondParser","EVENT_LISTENER","REMOVE_EVENT_LISTENER","history","location","prot","ontouchstart","started","second","third","r","some","action","mainRouter","route","newSubRouter","router","stop","arg","fn2","query","q","readyState","brackets","UNDEF","_loopback","_rewrite","bp","_cache","source","global","REGLOB","_create","pair","DEFAULT","_pairs","UNSUPPORTED","Error","NEED_ESCAPE","S_QBLOCKS","_brackets","reOrIdx","_regex","_reset","cachedBrackets","_setSettings","b","_settings","R_MLCOMMS","R_STRINGS","FINDBRACES","(","[","{","_bp","unescapeStr","isexpr","parts","skipBraces","ch","ix","recch","lastIndex","index","trim","array","_tmpl","_logErr","err","errorHandler","riotData","_getTmpl","Function","qstr","RE_DQUOTE","list","_parseExpr","join","RE_QBMARK","asText","mm","lv","ir","RE_BREND","RE_QBLOCK","div","CH_IDEXPR","cnt","RE_CSNAME","jsb","rightContext","_wrapExpr","tb","JS_VARNAME","mvar","JS_CONTEXT","JS_NOPROPS","haveRaw","hasRaw","clearCache","String","fromCharCode","_mkdom","templ","checkSvg","cachedItem","templateCache","replaceYield","tblTags","specialTags","select","tname","rootEls","childElementCount","reHasYield","reYieldSrc","text","reYieldDest","def","reYieldAll","tr","th","td","col","styleManager","_riot","inject","styleNode","newNode","userNode","id","replaceChild","getElementsByTagName","cssTextProp","styleSheet","stylesToInject","css","cssText","w","raf","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","navigator","userAgent","lastTime","nowtime","Date","now","timeout","Math","max","util","mixins","globals","_id","g","store","tag2","addRiotTags","selectAllTags","pushTags","riotTag","allTags","nodeList","_el","vdom","exports","module","define","amd","bigFactory","Big","x","parse","constructor","P","DP","RM","E_NEG","E_POS","format","dp","toE","rnd","toString","nL","isValid","throwErr","NaN","charAt","search","substring","rm","more","u","xc","unshift","pop","message","MAX_DP","MAX_POWER","abs","cmp","y","xNeg","yc","dvd","dvs","dvsL","dvsT","next","remI","dvsZ","dvdI","dvdL","rem","remL","qc","qi","digits","eq","gt","gte","lt","lte","sub","minus","xLTy","plus","xe","ye","reverse","mod","yGTx","times","pow","isNeg","round","sqrt","estimate","approx","half","mul","valueOf","toJSON","strL","toExponential","toFixed","neg","toPrecision","sd","_cooldowns","isCoolingDown","time","cd","performance","riotctrl","onUpdateI18n","labels","dataset","i18n","innerText","iaw","getLocalizedString","scrollPane","scrollContainer","addEventListener","onScroll","removeEventListener","offsetHeight","scrollTop","comps","componentHandler","upgradeElements","convert","startingValue","normalizedValue","stringValue","stringArray","resolution","pointsPerInch","picasPerInch","precision","conversionTable","factor","cm","in","px","pt","pc","ha","ag","cu","ft","from","to","Number"],"mappings":"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","file":"fnft-uilib.js","sourcesContent":["/* Riot v2.6.7custom, @license MIT */\n\n;(function(window, undefined) {\n  'use strict';\nvar riot = { version: 'v2.6.7custom', settings: {} },\n  // be aware, internal usage\n  // ATTENTION: prefix the global dynamic variables with `__`\n\n  // counter to give a unique id to all the Tag instances\n  __uid = 0,\n  // tags instances cache\n  __virtualDom = [],\n  // tags implementation cache\n  __tagImpl = {},\n\n  /**\n   * Const\n   */\n  GLOBAL_MIXIN = '__global_mixin',\n\n  // riot specific prefixes\n  RIOT_PREFIX = 'riot-',\n  RIOT_TAG = RIOT_PREFIX + 'tag',\n  RIOT_TAG_IS = 'data-is',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n  XLINK_NS = 'http://www.w3.org/1999/xlink',\n  XLINK_REGEX = /^xlink:(\\w+)/,\n  // special native tags that cannot be treated like the others\n  SPECIAL_TAGS_REGEX = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n  RESERVED_WORDS_BLACKLIST = /^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|parent|opts|trigger|o(?:n|ff|ne))$/,\n  // SVG tags list https://www.w3.org/TR/SVG/attindex.html#PresentationAttributes\n  SVG_TAGS_LIST = ['altGlyph', 'animate', 'animateColor', 'circle', 'clipPath', 'defs', 'ellipse', 'feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feFlood', 'feGaussianBlur', 'feImage', 'feMerge', 'feMorphology', 'feOffset', 'feSpecularLighting', 'feTile', 'feTurbulence', 'filter', 'font', 'foreignObject', 'g', 'glyph', 'glyphRef', 'image', 'line', 'linearGradient', 'marker', 'mask', 'missing-glyph', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'switch', 'symbol', 'text', 'textPath', 'tref', 'tspan', 'use'],\n\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (window && window.document || {}).documentMode | 0,\n\n  // detect firefox to fix #1374\n  FIREFOX = window && !!window.InstallTrigger\n/* istanbul ignore next */\nriot.observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Private Methods\n   */\n\n  /**\n   * Helper function needed to get and loop all the events in a string\n   * @param   { String }   e - event string\n   * @param   {Function}   fn - callback\n   */\n  function onEachEvent(e, fn) {\n    var es = e.split(' '), l = es.length, i = 0\n    for (; i < l; i++) {\n      var name = es[i]\n      if (name) fn(name, i)\n    }\n  }\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given space separated list of `events` and\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } events - events ids\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(events, fn) {\n        if (typeof fn != 'function')  return el\n\n        onEachEvent(events, function(name, pos) {\n          (callbacks[name] = callbacks[name] || []).push(fn)\n          fn.typed = pos > 0\n        })\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given space separated list of `events` listeners\n     * @param   { String } events - events ids\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(events, fn) {\n        if (events == '*' && !fn) callbacks = {}\n        else {\n          onEachEvent(events, function(name, pos) {\n            if (fn) {\n              var arr = callbacks[name]\n              for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n                if (cb == fn) arr.splice(i--, 1)\n              }\n            } else delete callbacks[name]\n          })\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given space separated list of `events` and\n     * execute the `callback` at most once\n     * @param   { String } events - events ids\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(events, fn) {\n        function on() {\n          el.off(events, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(events, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given space separated list of `events`\n     * @param   { String } events - events ids\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(events) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns\n\n        for (var i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        onEachEvent(events, function(name, pos) {\n\n          fns = slice.call(callbacks[name] || [], 0)\n\n          for (var i = 0, fn; fn = fns[i]; ++i) {\n            if (fn.busy) continue\n            fn.busy = 1\n            fn.apply(el, fn.typed ? [name].concat(args) : args)\n            if (fns[i] !== fn) { i-- }\n            fn.busy = 0\n          }\n\n          if (callbacks['*'] && name != '*')\n            el.trigger.apply(el, ['*', name].concat(args))\n\n        })\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n/* istanbul ignore next */\n;(function(riot) {\n\n/**\n * Simple client-side router\n * @module riot-route\n */\n\n\nvar RE_ORIGIN = /^.+?\\/\\/+[^\\/]+/,\n  EVENT_LISTENER = 'EventListener',\n  REMOVE_EVENT_LISTENER = 'remove' + EVENT_LISTENER,\n  ADD_EVENT_LISTENER = 'add' + EVENT_LISTENER,\n  HAS_ATTRIBUTE = 'hasAttribute',\n  REPLACE = 'replace',\n  POPSTATE = 'popstate',\n  HASHCHANGE = 'hashchange',\n  TRIGGER = 'trigger',\n  MAX_EMIT_STACK_LEVEL = 3,\n  win = typeof window != 'undefined' && window,\n  doc = typeof document != 'undefined' && document,\n  hist = win && history,\n  loc = win && (hist.location || win.location), // see html5-history-api\n  prot = Router.prototype, // to minify more\n  clickEvent = doc && doc.ontouchstart ? 'touchstart' : 'click',\n  started = false,\n  central = riot.observable(),\n  routeFound = false,\n  debouncedEmit,\n  base, current, parser, secondParser, emitStack = [], emitStackLevel = 0\n\n/**\n * Default parser. You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_PARSER(path) {\n  return path.split(/[/?#]/)\n}\n\n/**\n * Default parser (second). You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @param {string} filter - filter string (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_SECOND_PARSER(path, filter) {\n  var re = new RegExp('^' + filter[REPLACE](/\\*/g, '([^/?#]+?)')[REPLACE](/\\.\\./, '.*') + '$'),\n    args = path.match(re)\n\n  if (args) return args.slice(1)\n}\n\n/**\n * Simple/cheap debounce implementation\n * @param   {function} fn - callback\n * @param   {number} delay - delay in seconds\n * @returns {function} debounced function\n */\nfunction debounce(fn, delay) {\n  var t\n  return function () {\n    clearTimeout(t)\n    t = setTimeout(fn, delay)\n  }\n}\n\n/**\n * Set the window listeners to trigger the routes\n * @param {boolean} autoExec - see route.start\n */\nfunction start(autoExec) {\n  debouncedEmit = debounce(emit, 1)\n  win[ADD_EVENT_LISTENER](POPSTATE, debouncedEmit)\n  win[ADD_EVENT_LISTENER](HASHCHANGE, debouncedEmit)\n  doc[ADD_EVENT_LISTENER](clickEvent, click)\n  if (autoExec) emit(true)\n}\n\n/**\n * Router class\n */\nfunction Router() {\n  this.$ = []\n  riot.observable(this) // make it observable\n  central.on('stop', this.s.bind(this))\n  central.on('emit', this.e.bind(this))\n}\n\nfunction normalize(path) {\n  return path[REPLACE](/^\\/|\\/$/, '')\n}\n\nfunction isString(str) {\n  return typeof str == 'string'\n}\n\n/**\n * Get the part after domain name\n * @param {string} href - fullpath\n * @returns {string} path from root\n */\nfunction getPathFromRoot(href) {\n  return (href || loc.href)[REPLACE](RE_ORIGIN, '')\n}\n\n/**\n * Get the part after base\n * @param {string} href - fullpath\n * @returns {string} path from base\n */\nfunction getPathFromBase(href) {\n  return base[0] == '#'\n    ? (href || loc.href || '').split(base)[1] || ''\n    : (loc ? getPathFromRoot(href) : href || '')[REPLACE](base, '')\n}\n\nfunction emit(force) {\n  // the stack is needed for redirections\n  var isRoot = emitStackLevel == 0, first\n  if (MAX_EMIT_STACK_LEVEL <= emitStackLevel) return\n\n  emitStackLevel++\n  emitStack.push(function() {\n    var path = getPathFromBase()\n    if (force || path != current) {\n      central[TRIGGER]('emit', path)\n      current = path\n    }\n  })\n  if (isRoot) {\n    while (first = emitStack.shift()) first() // stack increses within this call\n    emitStackLevel = 0\n  }\n}\n\nfunction click(e) {\n  if (\n    e.which != 1 // not left click\n    || e.metaKey || e.ctrlKey || e.shiftKey // or meta keys\n    || e.defaultPrevented // or default prevented\n  ) return\n\n  var el = e.target\n  while (el && el.nodeName != 'A') el = el.parentNode\n\n  if (\n    !el || el.nodeName != 'A' // not A tag\n    || el[HAS_ATTRIBUTE]('download') // has download attr\n    || !el[HAS_ATTRIBUTE]('href') // has no href attr\n    || el.target && el.target != '_self' // another window or frame\n    || el.href.indexOf(loc.href.match(RE_ORIGIN)[0]) == -1 // cross origin\n  ) return\n\n  if (el.href != loc.href\n    && (\n      el.href.split('#')[0] == loc.href.split('#')[0] // internal jump\n      || base[0] != '#' && getPathFromRoot(el.href).indexOf(base) !== 0 // outside of base\n      || base[0] == '#' && el.href.split(base)[0] != loc.href.split(base)[0] // outside of #base\n      || !go(getPathFromBase(el.href), el.title || doc.title) // route not found\n    )) return\n\n  e.preventDefault()\n}\n\n/**\n * Go to the path\n * @param {string} path - destination path\n * @param {string} title - page title\n * @param {boolean} shouldReplace - use replaceState or pushState\n * @returns {boolean} - route not found flag\n */\nfunction go(path, title, shouldReplace) {\n  // Server-side usage: directly execute handlers for the path\n  if (!hist) return central[TRIGGER]('emit', getPathFromBase(path))\n\n  path = base + normalize(path)\n  title = title || doc.title\n  // browsers ignores the second parameter `title`\n  shouldReplace\n    ? hist.replaceState(null, title, path)\n    : hist.pushState(null, title, path)\n  // so we need to set it manually\n  doc.title = title\n  routeFound = false\n  emit()\n  return routeFound\n}\n\n/**\n * Go to path or set action\n * a single string:                go there\n * two strings:                    go there with setting a title\n * two strings and boolean:        replace history with setting a title\n * a single function:              set an action on the default route\n * a string/RegExp and a function: set an action on the route\n * @param {(string|function)} first - path / action / filter\n * @param {(string|RegExp|function)} second - title / action\n * @param {boolean} third - replace flag\n */\nprot.m = function(first, second, third) {\n  if (isString(first) && (!second || isString(second))) go(first, second, third || false)\n  else if (second) this.r(first, second)\n  else this.r('@', first)\n}\n\n/**\n * Stop routing\n */\nprot.s = function() {\n  this.off('*')\n  this.$ = []\n}\n\n/**\n * Emit\n * @param {string} path - path\n */\nprot.e = function(path) {\n  this.$.concat('@').some(function(filter) {\n    var args = (filter == '@' ? parser : secondParser)(normalize(path), normalize(filter))\n    if (typeof args != 'undefined') {\n      this[TRIGGER].apply(null, [filter].concat(args))\n      return routeFound = true // exit from loop\n    }\n  }, this)\n}\n\n/**\n * Register route\n * @param {string} filter - filter for matching to url\n * @param {function} action - action to register\n */\nprot.r = function(filter, action) {\n  if (filter != '@') {\n    filter = '/' + normalize(filter)\n    this.$.push(filter)\n  }\n  this.on(filter, action)\n}\n\nvar mainRouter = new Router()\nvar route = mainRouter.m.bind(mainRouter)\n\n/**\n * Create a sub router\n * @returns {function} the method of a new Router object\n */\nroute.create = function() {\n  var newSubRouter = new Router()\n  // assign sub-router's main method\n  var router = newSubRouter.m.bind(newSubRouter)\n  // stop only this sub-router\n  router.stop = newSubRouter.s.bind(newSubRouter)\n  return router\n}\n\n/**\n * Set the base of url\n * @param {(str|RegExp)} arg - a new base or '#' or '#!'\n */\nroute.base = function(arg) {\n  base = arg || '#'\n  current = getPathFromBase() // recalculate current path\n}\n\n/** Exec routing right now **/\nroute.exec = function() {\n  emit(true)\n}\n\n/**\n * Replace the default router to yours\n * @param {function} fn - your parser function\n * @param {function} fn2 - your secondParser function\n */\nroute.parser = function(fn, fn2) {\n  if (!fn && !fn2) {\n    // reset parser for testing...\n    parser = DEFAULT_PARSER\n    secondParser = DEFAULT_SECOND_PARSER\n  }\n  if (fn) parser = fn\n  if (fn2) secondParser = fn2\n}\n\n/**\n * Helper function to get url query as an object\n * @returns {object} parsed query\n */\nroute.query = function() {\n  var q = {}\n  var href = loc.href || current\n  href[REPLACE](/[?&](.+?)=([^&]*)/g, function(_, k, v) { q[k] = v })\n  return q\n}\n\n/** Stop routing **/\nroute.stop = function () {\n  if (started) {\n    if (win) {\n      win[REMOVE_EVENT_LISTENER](POPSTATE, debouncedEmit)\n      win[REMOVE_EVENT_LISTENER](HASHCHANGE, debouncedEmit)\n      doc[REMOVE_EVENT_LISTENER](clickEvent, click)\n    }\n    central[TRIGGER]('stop')\n    started = false\n  }\n}\n\n/**\n * Start routing\n * @param {boolean} autoExec - automatically exec after starting if true\n */\nroute.start = function (autoExec) {\n  if (!started) {\n    if (win) {\n      if (document.readyState == 'complete') start(autoExec)\n      // the timeout is needed to solve\n      // a weird safari bug https://github.com/riot/route/issues/33\n      else win[ADD_EVENT_LISTENER]('load', function() {\n        setTimeout(function() { start(autoExec) }, 1)\n      })\n    }\n    started = true\n  }\n}\n\n/** Prepare the router **/\nroute.base()\nroute.parser()\n\nriot.route = route\n})(riot)\n/* istanbul ignore next */\n\n/**\n * The riot template engine\n * @version v2.4.2\n */\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?(\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCKS, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCKS, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCKS, REGLOB)\n    },\n\n    DEFAULT = '{ }'\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCKS, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ]\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) bp = _cache\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) return _pairs\n\n    var arr = pair.split(' ')\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '))\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr)\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr)\n    arr[6] = _rewrite(_pairs[6], arr)\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCKS, REGLOB)\n    arr[8] = pair\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) _bp = _cache\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6]\n\n    isexpr = start = re.lastIndex = 0\n\n    while ((match = re.exec(str))) {\n\n      pos = match.index\n\n      if (isexpr) {\n\n        if (match[2]) {\n          re.lastIndex = skipBraces(str, match[2], re.lastIndex)\n          continue\n        }\n        if (!match[3]) {\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos))\n        start = re.lastIndex\n        re = _bp[6 + (isexpr ^= 1)]\n        re.lastIndex = start\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start))\n    }\n\n    return parts\n\n    function unescapeStr (s) {\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'))\n      } else {\n        parts.push(s)\n      }\n    }\n\n    function skipBraces (s, ch, ix) {\n      var\n        match,\n        recch = FINDBRACES[ch]\n\n      recch.lastIndex = ix\n      ix = 1\n      while ((match = recch.exec(s))) {\n        if (match[1] &&\n          !(match[1] === ch ? ++ix : --ix)) break\n      }\n      return ix ? s.length : recch.lastIndex\n    }\n  }\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  }\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9])\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  }\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  }\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair)\n      _regex = pair === DEFAULT ? _loopback : _rewrite\n      _cache[9] = _regex(_pairs[9])\n    }\n    cachedBrackets = pair\n  }\n\n  function _setSettings (o) {\n    var b\n\n    o = o || {}\n    b = o.brackets\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    })\n    _settings = o\n    _reset(b)\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  })\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {}\n  _brackets.set = _reset\n\n  _brackets.R_STRINGS = R_STRINGS\n  _brackets.R_MLCOMMS = R_MLCOMMS\n  _brackets.S_QBLOCKS = S_QBLOCKS\n\n  return _brackets\n\n})()\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\nvar tmpl = (function () {\n\n  var _cache = {}\n\n  function _tmpl (str, data) {\n    if (!str) return str\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(data, _logErr)\n  }\n\n  _tmpl.haveRaw = brackets.hasRaw\n\n  _tmpl.hasExpr = brackets.hasExpr\n\n  _tmpl.loopKeys = brackets.loopKeys\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {} }\n\n  _tmpl.errorHandler = null\n\n  function _logErr (err, ctx) {\n\n    if (_tmpl.errorHandler) {\n\n      err.riotData = {\n        tagName: ctx && ctx.root && ctx.root.tagName,\n        _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n      }\n      _tmpl.errorHandler(err)\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str)\n\n    if (expr.slice(0, 11) !== 'try{return ') expr = 'return ' + expr\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var\n    CH_IDEXPR = String.fromCharCode(0x2057),\n    RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/,\n    RE_QBLOCK = RegExp(brackets.S_QBLOCKS, 'g'),\n    RE_DQUOTE = /\\u2057/g,\n    RE_QBMARK = /\\u2057(\\d+)~/g\n\n  function _getTmpl (str) {\n    var\n      qstr = [],\n      expr,\n      parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1)\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = []\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i]\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) list[j++] = expr\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")'\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr)\n    }\n\n    if (qstr[0]) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      })\n    }\n    return expr\n  }\n\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    }\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n          .replace(RE_QBLOCK, function (s, div) {\n            return s.length > 2 && !div ? CH_IDEXPR + (qstr.push(s) - 1) + '~' : s\n          })\n          .replace(/\\s+/g, ' ').trim()\n          .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1')\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g\n\n        expr = RegExp.rightContext\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1]\n\n        while (jsb = (match = re.exec(expr))[1]) skipBraces(jsb, re)\n\n        jsb  = expr.slice(0, match.index)\n        expr = RegExp.rightContext\n\n        list[cnt++] = _wrapExpr(jsb, 1, key)\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0]\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch]\n\n      ir.lastIndex = re.lastIndex\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) ++lv\n        else if (!--lv) break\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/\n\n  function _wrapExpr (expr, asText, key) {\n    var tb\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar\n          if (pos) tb = (s = s[pos]) === '.' || s === '(' || s === '['\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos))\n        }\n      }\n      return match\n    })\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}'\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"'\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)'\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v2.4.2'\n\n  return _tmpl\n\n})()\n\n/*\n  lib/browser/tag/mkdom.js\n\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\nvar mkdom = (function _mkdom() {\n  var\n    reHasYield  = /<yield\\b/i,\n    reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig,\n    reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n    reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig\n  var\n    rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n    tblTags = IE_VERSION && IE_VERSION < 10\n      ? SPECIAL_TAGS_REGEX : /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/\n\n\n  var templateCache = {}\n  /**\n   * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n   * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n   *\n   * @param   { String } templ  - The template coming from the custom tag definition\n   * @param   { String } [html] - HTML content that comes from the DOM element where you\n   *           will mount the tag, mostly the original tag in the page\n   * @param   { Boolean } checkSvg - flag needed to know if we need to force the svg rendering in case of loop nodes\n   * @returns {HTMLElement} DOM element with _templ_ merged through `YIELD` with the _html_.\n   */\n  function _mkdom(templ, html, checkSvg) {\n\n    var key = html ? templ + ':yield:' + html : templ\n\n    var cachedItem = templateCache[key]\n    if (!cachedItem) {\n      var\n        match = templ && templ.match(/^\\s*<([-\\w]+)/),\n        tagName = match && match[1].toLowerCase(),\n        el = mkEl('div', checkSvg && isSVGTag(tagName))\n\n      // replace all the yield tags with the tag inner html\n      templ = replaceYield(templ, html)\n\n      /* istanbul ignore next */\n      if (tblTags.test(tagName))\n        el = specialTags(el, templ, tagName)\n      else\n        setInnerHTML(el, templ)\n\n      cachedItem = el\n      templateCache[key] = cachedItem\n    }\n\n    el = cachedItem.cloneNode(true)\n\n    el.stub = true\n\n    return el\n  }\n\n  /*\n    Creates the root element for table or select child elements:\n    tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n  */\n  function specialTags(el, templ, tagName) {\n    var\n      select = tagName[0] === 'o',\n      parent = select ? 'select>' : 'table>'\n\n    // trim() is important here, this ensures we don't have artifacts,\n    // so we can check if we have only one element inside the parent\n    el.innerHTML = '<' + parent + templ.trim() + '</' + parent\n    parent = el.firstChild\n\n    // returns the immediate parent if tr/th/td/col is the only element, if not\n    // returns the whole tree, as this can include additional elements\n    if (select) {\n      parent.selectedIndex = -1  // for IE9, compatible w/current riot behavior\n    } else {\n      // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n      var tname = rootEls[tagName]\n      if (tname && parent.childElementCount === 1) parent = $(tname, parent)\n    }\n    return parent\n  }\n\n  /*\n    Replace the yield tag from any tag template with the innerHTML of the\n    original tag in the page\n  */\n  function replaceYield(templ, html) {\n    // do nothing if no yield\n    if (!reHasYield.test(templ)) return templ\n\n    // be careful with #1343 - string on the source having `$1`\n    var src = {}\n\n    html = html && html.replace(reYieldSrc, function (_, ref, text) {\n      src[ref] = src[ref] || text   // preserve first definition\n      return ''\n    }).trim()\n\n    return templ\n      .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n        return src[ref] || def || ''\n      })\n      .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n        return html || def || ''\n      })\n  }\n\n  return _mkdom\n\n})()\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val) {\n  var item = {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n\n  var i = tags.length,\n    j = items.length,\n    t\n\n  while (i > j) {\n    t = tags[--i]\n    tags.splice(i, 1)\n    t.unmount()\n  }\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @param   { Object } child - non custom loop tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(child, i) {\n  Object.keys(child.tags).forEach(function(tagName) {\n    var tag = child.tags[tagName]\n    if (isArray(tag))\n      each(tag, function (t) {\n        moveChildTag(t, tagName, i)\n      })\n    else\n      moveChildTag(tag, tagName, i)\n  })\n}\n\n/**\n * Adds the elements for a virtual tag\n * @param { Tag } tag - the tag whose root's children will be inserted or appended\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nfunction addVirtual(tag, src, target) {\n  var el = tag._root, sib\n  tag._virts = []\n  while (el) {\n    sib = el.nextSibling\n    if (target)\n      src.insertBefore(el, target._root)\n    else\n      src.appendChild(el)\n\n    tag._virts.push(el) // hold for unmounting\n    el = sib\n  }\n}\n\n/**\n * Move virtual tag and all child nodes\n * @param { Tag } tag - first child reference used to start move\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n * @param { Number } len - how many child nodes to move\n */\nfunction moveVirtual(tag, src, target, len) {\n  var el = tag._root, sib, i = 0\n  for (; i < len; i++) {\n    sib = el.nextSibling\n    src.insertBefore(el, target._root)\n    el = sib\n  }\n}\n\n/**\n * Insert a new tag avoiding the insert for the conditional tags\n * @param   {Boolean} isVirtual [description]\n * @param   { Tag }  prevTag - tag instance used as reference to prepend our new tag\n * @param   { Tag }  newTag - new tag to be inserted\n * @param   { HTMLElement }  root - loop parent node\n * @param   { Array }  tags - array containing the current tags list\n * @param   { Function }  virtualFn - callback needed to move or insert virtual DOM\n * @param   { Object } dom - DOM node we need to loop\n */\nfunction insertTag(isVirtual, prevTag, newTag, root, tags, virtualFn, dom) {\n  if (isInStub(prevTag.root)) return\n  if (isVirtual) virtualFn(prevTag, root, newTag, dom.childNodes.length)\n  else root.insertBefore(prevTag.root, newTag.root) // #1374 some browsers reset selected here\n}\n\n\n/**\n * Manage tags having the 'each'\n * @param   { Object } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n */\nfunction _each(dom, parent, expr) {\n\n  // remove the each property from the original tag\n  remAttr(dom, 'each')\n\n  var mustReorder = typeof getAttr(dom, 'no-reorder') !== T_STRING || remAttr(dom, 'no-reorder'),\n    tagName = getTagName(dom),\n    impl = __tagImpl[tagName] || { tmpl: getOuterHTML(dom) },\n    useRoot = SPECIAL_TAGS_REGEX.test(tagName),\n    root = dom.parentNode,\n    ref = document.createTextNode(''),\n    child = getTag(dom),\n    isOption = tagName.toLowerCase() === 'option', // the option tags must be treated differently\n    tags = [],\n    oldItems = [],\n    hasKeys,\n    isVirtual = dom.tagName == 'VIRTUAL'\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr)\n\n  // insert a marked where the loop tags will be injected\n  root.insertBefore(ref, dom)\n\n  // clean template code\n  parent.one('before-mount', function () {\n\n    // remove the original DOM node\n    dom.parentNode.removeChild(dom)\n    if (root.stub) root = parent.root\n\n  }).on('update', function () {\n    // get the new items collection\n    var items = tmpl(expr.val, parent),\n      // create a fragment to hold the new DOM nodes to inject in the parent tag\n      frag = document.createDocumentFragment()\n\n    // object loop. any changes cause full redraw\n    if (!isArray(items)) {\n      hasKeys = items || false\n      items = hasKeys ?\n        Object.keys(items).map(function (key) {\n          return mkitem(expr, key, items[key])\n        }) : []\n    }\n\n    // loop all the new items\n    var i = 0,\n      itemsLength = items.length\n\n    for (; i < itemsLength; i++) {\n      // reorder only if the items are objects\n      var\n        item = items[i],\n        _mustReorder = mustReorder && typeof item == T_OBJECT && !hasKeys,\n        oldPos = oldItems.indexOf(item),\n        pos = ~oldPos && _mustReorder ? oldPos : i,\n        // does a tag exist in this position?\n        tag = tags[pos]\n\n      item = !hasKeys && expr.key ? mkitem(expr, item, i) : item\n\n      // new tag\n      if (\n        !_mustReorder && !tag // with no-reorder we just update the old tags\n        ||\n        _mustReorder && !~oldPos || !tag // by default we always try to reorder the DOM elements\n      ) {\n\n        tag = new Tag(impl, {\n          parent: parent,\n          isLoop: true,\n          hasImpl: !!__tagImpl[tagName],\n          root: useRoot ? root : dom.cloneNode(),\n          item: item\n        }, dom.innerHTML)\n\n        tag.mount()\n\n        if (isVirtual) tag._root = tag.root.firstChild // save reference for further moves or inserts\n        // this tag must be appended\n        if (i == tags.length || !tags[i]) { // fix 1581\n          if (isVirtual)\n            addVirtual(tag, frag)\n          else frag.appendChild(tag.root)\n        }\n        // this tag must be insert\n        else {\n          insertTag(isVirtual, tag, tags[i], root, tags, addVirtual, dom)\n          oldItems.splice(i, 0, item)\n        }\n\n        tags.splice(i, 0, tag)\n        pos = i // handled here so no move\n      } else tag.update(item, true)\n\n      // reorder the tag if it's not located in its previous position\n      if (\n        pos !== i && _mustReorder &&\n        tags[i] // fix 1581 unable to reproduce it in a test!\n      ) {\n        // #closes 2040 PLEASE DON'T REMOVE IT!\n        // there are no tests for this feature\n        if (contains(items, oldItems[i]))\n          insertTag(isVirtual, tag, tags[i], root, tags, moveVirtual, dom)\n\n        // update the position attribute if it exists\n        if (expr.pos)\n          tag[expr.pos] = i\n        // move the old tag instance\n        tags.splice(i, 0, tags.splice(pos, 1)[0])\n        // move the old item\n        oldItems.splice(i, 0, oldItems.splice(pos, 1)[0])\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) moveNestedTags(tag, i)\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      tag._item = item\n      // cache the real parent tag internally\n      defineProperty(tag, '_parent', parent)\n    }\n\n    // remove the redundant tags\n    unmountRedundant(items, tags)\n\n    // insert the new nodes\n    root.insertBefore(frag, ref)\n    if (isOption) {\n\n      // #1374 FireFox bug in <option selected={expression}>\n      if (FIREFOX && !root.multiple) {\n        for (var n = 0; n < root.length; n++) {\n          if (root[n].__riot1374) {\n            root.selectedIndex = n  // clear other options\n            delete root[n].__riot1374\n            break\n          }\n        }\n      }\n    }\n\n    // set the 'tags' property of the parent tag\n    // if child is 'undefined' it means that we don't need to set this property\n    // for example:\n    // we don't need store the `myTag.tags['div']` property if we are looping a div tag\n    // but we need to track the `myTag.tags['child']` property looping a custom child node named `child`\n    if (child) parent.tags[tagName] = tags\n\n    // clone the items array\n    oldItems = items.slice()\n\n  })\n\n}\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nvar styleManager = (function(_riot) {\n\n  if (!window) return { // skip injection on the server\n    add: function () {},\n    inject: function () {}\n  }\n\n  var styleNode = (function () {\n    // create a new style element with the correct type\n    var newNode = mkEl('style')\n    setAttr(newNode, 'type', 'text/css')\n\n    // replace any user node or insert the new one into the head\n    var userNode = $('style[type=riot]')\n    if (userNode) {\n      if (userNode.id) newNode.id = userNode.id\n      userNode.parentNode.replaceChild(newNode, userNode)\n    }\n    else document.getElementsByTagName('head')[0].appendChild(newNode)\n\n    return newNode\n  })()\n\n  // Create cache and shortcut to the correct property\n  var cssTextProp = styleNode.styleSheet,\n    stylesToInject = ''\n\n  // Expose the style node in a non-modificable property\n  Object.defineProperty(_riot, 'styleNode', {\n    value: styleNode,\n    writable: true\n  })\n\n  /**\n   * Public api\n   */\n  return {\n    /**\n     * Save a tag style to be later injected into DOM\n     * @param   { String } css [description]\n     */\n    add: function(css) {\n      stylesToInject += css\n    },\n    /**\n     * Inject all previously saved tag styles into DOM\n     * innerHTML seems slow: http://jsperf.com/riot-insert-style\n     */\n    inject: function() {\n      if (stylesToInject) {\n        if (cssTextProp) cssTextProp.cssText += stylesToInject\n        else styleNode.innerHTML += stylesToInject\n        stylesToInject = ''\n      }\n    }\n  }\n\n})(riot)\n\n\nfunction parseNamedElements(root, tag, childTags, forceParsingNamed) {\n\n  walk(root, function(dom) {\n    if (dom.nodeType == 1) {\n      dom.isLoop = dom.isLoop ||\n                  (dom.parentNode && dom.parentNode.isLoop || getAttr(dom, 'each'))\n                    ? 1 : 0\n\n      // custom child tag\n      if (childTags) {\n        var child = getTag(dom)\n\n        if (child && !dom.isLoop)\n          childTags.push(initChildTag(child, {root: dom, parent: tag}, dom.innerHTML, tag))\n      }\n\n      if (!dom.isLoop || forceParsingNamed)\n        setNamed(dom, tag, [])\n    }\n\n  })\n\n}\n\nfunction parseExpressions(root, tag, expressions) {\n\n  function addExpr(dom, val, extra) {\n    if (tmpl.hasExpr(val)) {\n      expressions.push(extend({ dom: dom, expr: val }, extra))\n    }\n  }\n\n  walk(root, function(dom) {\n    var type = dom.nodeType,\n      attr\n\n    // text node\n    if (type == 3 && dom.parentNode.tagName != 'STYLE') addExpr(dom, dom.nodeValue)\n    if (type != 1) return\n\n    /* element */\n\n    // loop\n    attr = getAttr(dom, 'each')\n\n    if (attr) { _each(dom, tag, attr); return false }\n\n    // attribute expressions\n    each(dom.attributes, function(attr) {\n      var name = attr.name,\n        bool = name.split('__')[1]\n\n      addExpr(dom, attr.value, { attr: bool || name, bool: bool })\n      if (bool) { remAttr(dom, name); return false }\n\n    })\n\n    // skip custom tags\n    if (getTag(dom)) return false\n\n  })\n\n}\nfunction Tag(impl, conf, innerHTML) {\n\n  var self = riot.observable(this),\n    opts = inherit(conf.opts) || {},\n    parent = conf.parent,\n    isLoop = conf.isLoop,\n    hasImpl = conf.hasImpl,\n    item = cleanUpData(conf.item),\n    expressions = [],\n    childTags = [],\n    root = conf.root,\n    tagName = root.tagName.toLowerCase(),\n    attr = {},\n    propsInSyncWithParent = [],\n    dom\n\n  // only call unmount if we have a valid __tagImpl (has name property)\n  if (impl.name && root._tag) root._tag.unmount(true)\n\n  // not yet mounted\n  this.isMounted = false\n  root.isLoop = isLoop\n\n  // keep a reference to the tag just created\n  // so we will be able to mount this tag multiple times\n  root._tag = this\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  defineProperty(this, '_riot_id', ++__uid) // base 1 allows test !t._riot_id\n\n  extend(this, { parent: parent, root: root, opts: opts}, item)\n  // protect the \"tags\" property from being overridden\n  defineProperty(this, 'tags', {})\n\n  // grab attributes\n  each(root.attributes, function(el) {\n    var val = el.value\n    // remember attributes with expressions only\n    if (tmpl.hasExpr(val)) attr[el.name] = val\n  })\n\n  dom = mkdom(impl.tmpl, innerHTML, isLoop)\n\n  // options\n  function updateOpts() {\n    var ctx = hasImpl && isLoop ? self : parent || self\n\n    // update opts from current DOM attributes\n    each(root.attributes, function(el) {\n      var val = el.value\n      opts[toCamel(el.name)] = tmpl.hasExpr(val) ? tmpl(val, ctx) : val\n    })\n    // recover those with expressions\n    each(Object.keys(attr), function(name) {\n      opts[toCamel(name)] = tmpl(attr[name], ctx)\n    })\n  }\n\n  function normalizeData(data) {\n    for (var key in item) {\n      if (typeof self[key] !== T_UNDEF && isWritable(self, key))\n        self[key] = data[key]\n    }\n  }\n\n  function inheritFrom(target) {\n    each(Object.keys(target), function(k) {\n      // some properties must be always in sync with the parent tag\n      var mustSync = !RESERVED_WORDS_BLACKLIST.test(k) && contains(propsInSyncWithParent, k)\n\n      if (typeof self[k] === T_UNDEF || mustSync) {\n        // track the property to keep in sync\n        // so we can keep it updated\n        if (!mustSync) propsInSyncWithParent.push(k)\n        self[k] = target[k]\n      }\n    })\n  }\n\n  /**\n   * Update the tag expressions and options\n   * @param   { * }  data - data we want to use to extend the tag properties\n   * @param   { Boolean } isInherited - is this update coming from a parent tag?\n   * @returns { self }\n   */\n  defineProperty(this, 'update', function(data, isInherited) {\n\n    // make sure the data passed will not override\n    // the component core methods\n    data = cleanUpData(data)\n    // inherit properties from the parent in loop\n    if (isLoop) {\n      inheritFrom(self.parent)\n    }\n    // normalize the tag properties in case an item object was initially passed\n    if (data && isObject(item)) {\n      normalizeData(data)\n      item = data\n    }\n    extend(self, data)\n    updateOpts()\n    self.trigger('update', data)\n    update(expressions, self)\n\n    // the updated event will be triggered\n    // once the DOM will be ready and all the re-flows are completed\n    // this is useful if you want to get the \"real\" root properties\n    // 4 ex: root.offsetWidth ...\n    if (isInherited && self.parent)\n      // closes #1599\n      self.parent.one('updated', function() { self.trigger('updated') })\n    else rAF(function() { self.trigger('updated') })\n\n    return this\n  })\n\n  defineProperty(this, 'mixin', function() {\n    each(arguments, function(mix) {\n      var instance,\n        props = [],\n        obj\n\n      mix = typeof mix === T_STRING ? riot.mixin(mix) : mix\n\n      // check if the mixin is a function\n      if (isFunction(mix)) {\n        // create the new mixin instance\n        instance = new mix()\n      } else instance = mix\n\n      var proto = Object.getPrototypeOf(instance)\n\n      // build multilevel prototype inheritance chain property list\n      do props = props.concat(Object.getOwnPropertyNames(obj || instance))\n      while (obj = Object.getPrototypeOf(obj || instance))\n\n      // loop the keys in the function prototype or the all object keys\n      each(props, function(key) {\n        // bind methods to self\n        // allow mixins to override other properties/parent mixins\n        if (key != 'init') {\n          // check for getters/setters\n          var descriptor = Object.getOwnPropertyDescriptor(instance, key) || Object.getOwnPropertyDescriptor(proto, key)\n          var hasGetterSetter = descriptor && (descriptor.get || descriptor.set)\n\n          // apply method only if it does not already exist on the instance\n          if (!self.hasOwnProperty(key) && hasGetterSetter) {\n            Object.defineProperty(self, key, descriptor)\n          } else {\n            self[key] = isFunction(instance[key]) ?\n              instance[key].bind(self) :\n              instance[key]\n          }\n        }\n      })\n\n      // init method will be called automatically\n      if (instance.init) instance.init.bind(self)()\n    })\n    return this\n  })\n\n  defineProperty(this, 'mount', function() {\n\n    updateOpts()\n\n    // add global mixins\n    var globalMixin = riot.mixin(GLOBAL_MIXIN)\n\n    if (globalMixin)\n      for (var i in globalMixin)\n        if (globalMixin.hasOwnProperty(i))\n          self.mixin(globalMixin[i])\n\n    // children in loop should inherit from true parent\n    if (self._parent && self._parent.root.isLoop) {\n      inheritFrom(self._parent)\n    }\n\n    // initialiation\n    if (impl.fn) impl.fn.call(self, opts)\n\n    // parse layout after init. fn may calculate args for nested custom tags\n    parseExpressions(dom, self, expressions)\n\n    // mount the child tags\n    toggle(true)\n\n    // update the root adding custom attributes coming from the compiler\n    // it fixes also #1087\n    if (impl.attrs)\n      walkAttributes(impl.attrs, function (k, v) { setAttr(root, k, v) })\n    if (impl.attrs || hasImpl)\n      parseExpressions(self.root, self, expressions)\n\n    if (!self.parent || isLoop) self.update(item)\n\n    // internal use only, fixes #403\n    self.trigger('before-mount')\n\n    if (isLoop && !hasImpl) {\n      // update the root attribute for the looped elements\n      root = dom.firstChild\n    } else {\n      while (dom.firstChild) root.appendChild(dom.firstChild)\n      if (root.stub) root = parent.root\n    }\n\n    defineProperty(self, 'root', root)\n\n    // parse the named dom nodes in the looped child\n    // adding them to the parent as well\n    if (isLoop)\n      parseNamedElements(self.root, self.parent, null, true)\n\n    // if it's not a child tag we can trigger its mount event\n    if (!self.parent || self.parent.isMounted) {\n      self.isMounted = true\n      self.trigger('mount')\n    }\n    // otherwise we need to wait that the parent event gets triggered\n    else self.parent.one('mount', function() {\n      // avoid to trigger the `mount` event for the tags\n      // not visible included in an if statement\n      if (!isInStub(self.root)) {\n        self.parent.isMounted = self.isMounted = true\n        self.trigger('mount')\n      }\n    })\n  })\n\n\n  defineProperty(this, 'unmount', function(keepRootTag) {\n    var el = root,\n      p = el.parentNode,\n      ptag,\n      tagIndex = __virtualDom.indexOf(self)\n\n    self.trigger('before-unmount')\n\n    // remove this tag instance from the global virtualDom variable\n    if (~tagIndex)\n      __virtualDom.splice(tagIndex, 1)\n\n    if (p) {\n\n      if (parent) {\n        ptag = getImmediateCustomParentTag(parent)\n        // remove this tag from the parent tags object\n        // if there are multiple nested tags with same name..\n        // remove this element form the array\n        if (isArray(ptag.tags[tagName]))\n          each(ptag.tags[tagName], function(tag, i) {\n            if (tag._riot_id == self._riot_id)\n              ptag.tags[tagName].splice(i, 1)\n          })\n        else\n          // otherwise just delete the tag instance\n          ptag.tags[tagName] = undefined\n      }\n\n      else\n        while (el.firstChild) el.removeChild(el.firstChild)\n\n      if (!keepRootTag)\n        p.removeChild(el)\n      else {\n        // the riot-tag and the data-is attributes aren't needed anymore, remove them\n        remAttr(p, RIOT_TAG_IS)\n        remAttr(p, RIOT_TAG) // this will be removed in riot 3.0.0\n      }\n\n    }\n\n    if (this._virts) {\n      each(this._virts, function(v) {\n        if (v.parentNode) v.parentNode.removeChild(v)\n      })\n    }\n\n    self.trigger('unmount')\n    toggle()\n    self.off('*')\n    self.isMounted = false\n    delete root._tag\n\n  })\n\n  // proxy function to bind updates\n  // dispatched from a parent tag\n  function onChildUpdate(data) { self.update(data, true) }\n\n  function toggle(isMount) {\n\n    // mount/unmount children\n    each(childTags, function(child) { child[isMount ? 'mount' : 'unmount']() })\n\n    // listen/unlisten parent (events flow one way from parent to children)\n    if (!parent) return\n    var evt = isMount ? 'on' : 'off'\n\n    // the loop tags will be always in sync with the parent automatically\n    if (isLoop)\n      parent[evt]('unmount', self.unmount)\n    else {\n      parent[evt]('update', onChildUpdate)[evt]('unmount', self.unmount)\n    }\n  }\n\n\n  // named elements available for fn\n  parseNamedElements(dom, this, childTags)\n\n}\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nfunction setEventHandler(name, handler, dom, tag) {\n\n  dom[name] = function(e) {\n\n    var ptag = tag._parent,\n      item = tag._item,\n      el\n\n    if (!item)\n      while (ptag && !item) {\n        item = ptag._item\n        ptag = ptag._parent\n      }\n\n    // cross browser event fix\n    e = e || window.event\n\n    // override the event properties\n    if (isWritable(e, 'currentTarget')) e.currentTarget = dom\n    if (isWritable(e, 'target')) e.target = e.srcElement\n    if (isWritable(e, 'which')) e.which = e.charCode || e.keyCode\n\n    e.item = item\n\n    // prevent default behaviour (by default)\n    if (handler.call(tag, e) !== true && !/radio|check/.test(dom.type)) {\n      if (e.preventDefault) e.preventDefault()\n      e.returnValue = false\n    }\n\n    if (!e.preventUpdate) {\n      el = item ? getImmediateCustomParentTag(ptag) : tag\n      el.update()\n    }\n\n  }\n\n}\n\n\n/**\n * Insert a DOM node replacing another one (used by if- attribute)\n * @param   { Object } root - parent node\n * @param   { Object } node - node replaced\n * @param   { Object } before - node added\n */\nfunction insertTo(root, node, before) {\n  if (!root) return\n  root.insertBefore(before, node)\n  root.removeChild(node)\n}\n\n/**\n * Update the expressions in a Tag instance\n * @param   { Array } expressions - expression that must be re evaluated\n * @param   { Tag } tag - tag instance\n */\nfunction update(expressions, tag) {\n\n  each(expressions, function(expr, i) {\n\n    var dom = expr.dom,\n      attrName = expr.attr,\n      value = tmpl(expr.expr, tag),\n      parent = expr.parent || expr.dom.parentNode\n\n    if (expr.bool) {\n      value = !!value\n    } else if (value == null) {\n      value = ''\n    }\n\n    // #1638: regression of #1612, update the dom only if the value of the\n    // expression was changed\n    if (expr.value === value) {\n      return\n    }\n    expr.value = value\n\n    // textarea and text nodes has no attribute name\n    if (!attrName) {\n      // about #815 w/o replace: the browser converts the value to a string,\n      // the comparison by \"==\" does too, but not in the server\n      value += ''\n      // test for parent avoids error with invalid assignment to nodeValue\n      if (parent) {\n        // cache the parent node because somehow it will become null on IE\n        // on the next iteration\n        expr.parent = parent\n        if (parent.tagName === 'TEXTAREA') {\n          parent.value = value                    // #1113\n          if (!IE_VERSION) dom.nodeValue = value  // #1625 IE throws here, nodeValue\n        }                                         // will be available on 'updated'\n        else dom.nodeValue = value\n      }\n      return\n    }\n\n    // ~~#1612: look for changes in dom.value when updating the value~~\n    if (attrName === 'value') {\n      if (dom.value !== value) {\n        dom.value = value\n        setAttr(dom, attrName, value)\n      }\n      return\n    } else {\n      // remove original attribute\n      remAttr(dom, attrName)\n    }\n\n    // event handler\n    if (isFunction(value)) {\n      setEventHandler(attrName, value, dom, tag)\n\n    // if- conditional\n    } else if (attrName == 'if') {\n      var stub = expr.stub,\n        add = function() { insertTo(stub.parentNode, stub, dom) },\n        remove = function() { insertTo(dom.parentNode, dom, stub) }\n\n      // add to DOM\n      if (value) {\n        if (stub) {\n          add()\n          dom.inStub = false\n          // avoid to trigger the mount event if the tags is not visible yet\n          // maybe we can optimize this avoiding to mount the tag at all\n          if (!isInStub(dom)) {\n            walk(dom, function(el) {\n              if (el._tag && !el._tag.isMounted)\n                el._tag.isMounted = !!el._tag.trigger('mount')\n            })\n          }\n        }\n      // remove from DOM\n      } else {\n        stub = expr.stub = stub || document.createTextNode('')\n        // if the parentNode is defined we can easily replace the tag\n        if (dom.parentNode)\n          remove()\n        // otherwise we need to wait the updated event\n        else (tag.parent || tag).one('updated', remove)\n\n        dom.inStub = true\n      }\n    // show / hide\n    } else if (attrName === 'show') {\n      dom.style.display = value ? '' : 'none'\n\n    } else if (attrName === 'hide') {\n      dom.style.display = value ? 'none' : ''\n\n    } else if (expr.bool) {\n      dom[attrName] = value\n      if (value) setAttr(dom, attrName, attrName)\n      if (FIREFOX && attrName === 'selected' && dom.tagName === 'OPTION') {\n        dom.__riot1374 = value   // #1374\n      }\n\n    } else if (value === 0 || value && typeof value !== T_OBJECT) {\n      // <img src=\"{ expr }\">\n      if (startsWith(attrName, RIOT_PREFIX) && attrName != RIOT_TAG) {\n        attrName = attrName.slice(RIOT_PREFIX.length)\n      }\n      setAttr(dom, attrName, value)\n    }\n\n  })\n\n}\n/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } els - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nfunction each(els, fn) {\n  var len = els ? els.length : 0\n\n  for (var i = 0, el; i < len; i++) {\n    el = els[i]\n    // return false -> current item was removed by fn during the loop\n    if (el != null && fn(el, i) === false) i--\n  }\n  return els\n}\n\n/**\n * Detect if the argument passed is a function\n * @param   { * } v - whatever you want to pass to this function\n * @returns { Boolean } -\n */\nfunction isFunction(v) {\n  return typeof v === T_FUNCTION || false   // avoid IE problems\n}\n\n/**\n * Get the outer html of any DOM node SVGs included\n * @param   { Object } el - DOM node to parse\n * @returns { String } el.outerHTML\n */\nfunction getOuterHTML(el) {\n  if (el.outerHTML) return el.outerHTML\n  // some browsers do not support outerHTML on the SVGs tags\n  else {\n    var container = mkEl('div')\n    container.appendChild(el.cloneNode(true))\n    return container.innerHTML\n  }\n}\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we will inject the new html\n * @param { String } html - html to inject\n */\nfunction setInnerHTML(container, html) {\n  if (typeof container.innerHTML != T_UNDEF) container.innerHTML = html\n  // some browsers do not support innerHTML on the SVGs tags\n  else {\n    var doc = new DOMParser().parseFromString(html, 'application/xml')\n    container.appendChild(\n      container.ownerDocument.importNode(doc.documentElement, true)\n    )\n  }\n}\n\n/**\n * Checks wether a DOM node must be considered part of an svg document\n * @param   { String }  name - tag name\n * @returns { Boolean } -\n */\nfunction isSVGTag(name) {\n  return ~SVG_TAGS_LIST.indexOf(name)\n}\n\n/**\n * Detect if the argument passed is an object, exclude null.\n * NOTE: Use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } v - whatever you want to pass to this function\n * @returns { Boolean } -\n */\nfunction isObject(v) {\n  return v && typeof v === T_OBJECT         // typeof null is 'object'\n}\n\n/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nfunction remAttr(dom, name) {\n  dom.removeAttribute(name)\n}\n\n/**\n * Convert a string containing dashes to camel case\n * @param   { String } string - input string\n * @returns { String } my-string -> myString\n */\nfunction toCamel(string) {\n  return string.replace(/-(\\w)/g, function(_, c) {\n    return c.toUpperCase()\n  })\n}\n\n/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nfunction getAttr(dom, name) {\n  return dom.getAttribute(name)\n}\n\n/**\n * Set any DOM/SVG attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nfunction setAttr(dom, name, val) {\n  var xlink = XLINK_REGEX.exec(name)\n  if (xlink && xlink[1])\n    dom.setAttributeNS(XLINK_NS, xlink[1], val)\n  else\n    dom.setAttribute(name, val)\n}\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nfunction getTag(dom) {\n  return dom.tagName && __tagImpl[getAttr(dom, RIOT_TAG_IS) ||\n    getAttr(dom, RIOT_TAG) || dom.tagName.toLowerCase()]\n}\n/**\n * Add a child tag to its parent into the `tags` object\n * @param   { Object } tag - child tag instance\n * @param   { String } tagName - key where the new tag will be stored\n * @param   { Object } parent - tag instance where the new child tag will be included\n */\nfunction addChildTag(tag, tagName, parent) {\n  var cachedTag = parent.tags[tagName]\n\n  // if there are multiple children tags having the same name\n  if (cachedTag) {\n    // if the parent tags property is not yet an array\n    // create it adding the first cached tag\n    if (!isArray(cachedTag))\n      // don't add the same tag twice\n      if (cachedTag !== tag)\n        parent.tags[tagName] = [cachedTag]\n    // add the new nested tag to the array\n    if (!contains(parent.tags[tagName], tag))\n      parent.tags[tagName].push(tag)\n  } else {\n    parent.tags[tagName] = tag\n  }\n}\n\n/**\n * Move the position of a custom tag in its parent tag\n * @param   { Object } tag - child tag instance\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nfunction moveChildTag(tag, tagName, newPos) {\n  var parent = tag.parent,\n    tags\n  // no parent no move\n  if (!parent) return\n\n  tags = parent.tags[tagName]\n\n  if (isArray(tags))\n    tags.splice(newPos, 0, tags.splice(tags.indexOf(tag), 1)[0])\n  else addChildTag(tag, tagName, parent)\n}\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nfunction initChildTag(child, opts, innerHTML, parent) {\n  var tag = new Tag(child, opts, innerHTML),\n    tagName = getTagName(opts.root),\n    ptag = getImmediateCustomParentTag(parent)\n  // fix for the parent attribute in the looped elements\n  tag.parent = ptag\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag._parent = parent\n\n  // add this tag to the custom parent tag\n  addChildTag(tag, tagName, ptag)\n  // and also to the real parent tag\n  if (ptag !== parent)\n    addChildTag(tag, tagName, parent)\n  // empty the child node once we got its template\n  // to avoid that its children get compiled multiple times\n  opts.root.innerHTML = ''\n\n  return tag\n}\n\n/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nfunction getImmediateCustomParentTag(tag) {\n  var ptag = tag\n  while (!getTag(ptag.root)) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n* @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nfunction defineProperty(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value: value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options))\n  return el\n}\n\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @returns { String } name to identify this dom node in riot\n */\nfunction getTagName(dom) {\n  var child = getTag(dom),\n    namedTag = getAttr(dom, 'name'),\n    tagName = namedTag && !tmpl.hasExpr(namedTag) ?\n                namedTag :\n              child ? child.name : dom.tagName.toLowerCase()\n\n  return tagName\n}\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nfunction extend(src) {\n  var obj, args = arguments\n  for (var i = 1; i < args.length; ++i) {\n    if (obj = args[i]) {\n      for (var key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}\n\n/**\n * Check whether an array contains an item\n * @param   { Array } arr - target array\n * @param   { * } item - item to test\n * @returns { Boolean } Does 'arr' contain 'item'?\n */\nfunction contains(arr, item) {\n  return ~arr.indexOf(item)\n}\n\n/**\n * Check whether an object is a kind of array\n * @param   { * } a - anything\n * @returns {Boolean} is 'a' an array?\n */\nfunction isArray(a) { return Array.isArray(a) || a instanceof Array }\n\n/**\n * Detect whether a property of an object could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } is this property writable?\n */\nfunction isWritable(obj, key) {\n  var props = Object.getOwnPropertyDescriptor(obj, key)\n  return typeof obj[key] === T_UNDEF || props && props.writable\n}\n\n\n/**\n * With this function we avoid that the internal Tag methods get overridden\n * @param   { Object } data - options we want to use to extend the tag instance\n * @returns { Object } clean object without containing the riot internal reserved words\n */\nfunction cleanUpData(data) {\n  if (!(data instanceof Tag) && !(data && typeof data.trigger == T_FUNCTION))\n    return data\n\n  var o = {}\n  for (var key in data) {\n    if (!RESERVED_WORDS_BLACKLIST.test(key)) o[key] = data[key]\n  }\n  return o\n}\n\n/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n */\nfunction walk(dom, fn) {\n  if (dom) {\n    // stop the recursion\n    if (fn(dom) === false) return\n    else {\n      dom = dom.firstChild\n\n      while (dom) {\n        walk(dom, fn)\n        dom = dom.nextSibling\n      }\n    }\n  }\n}\n\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nfunction walkAttributes(html, fn) {\n  var m,\n    re = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g\n\n  while (m = re.exec(html)) {\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n  }\n}\n\n/**\n * Check whether a DOM node is in stub mode, useful for the riot 'if' directive\n * @param   { Object }  dom - DOM node we want to parse\n * @returns { Boolean } -\n */\nfunction isInStub(dom) {\n  while (dom) {\n    if (dom.inStub) return true\n    dom = dom.parentNode\n  }\n  return false\n}\n\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @param   { Boolean } isSvg - should we use a SVG as parent node?\n * @returns { Object } DOM node just created\n */\nfunction mkEl(name, isSvg) {\n  return isSvg ?\n    document.createElementNS('http://www.w3.org/2000/svg', 'svg') :\n    document.createElement(name)\n}\n\n/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nfunction $$(selector, ctx) {\n  return (ctx || document).querySelectorAll(selector)\n}\n\n/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nfunction $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}\n\n/**\n * Simple object prototypal inheritance\n * @param   { Object } parent - parent object\n * @returns { Object } child instance\n */\nfunction inherit(parent) {\n  return Object.create(parent || null)\n}\n\n/**\n * Get the name property needed to identify a DOM node in riot\n * @param   { Object } dom - DOM node we need to parse\n * @returns { String | undefined } give us back a string to identify this dom node\n */\nfunction getNamedKey(dom) {\n  return getAttr(dom, 'id') || getAttr(dom, 'name')\n}\n\n/**\n * Set the named properties of a tag element\n * @param { Object } dom - DOM node we need to parse\n * @param { Object } parent - tag instance where the named dom element will be eventually added\n * @param { Array } keys - list of all the tag instance properties\n */\nfunction setNamed(dom, parent, keys) {\n  // get the key value we want to add to the tag instance\n  var key = getNamedKey(dom),\n    isArr,\n    // add the node detected to a tag instance using the named property\n    add = function(value) {\n      // avoid to override the tag properties already set\n      if (contains(keys, key)) return\n      // check whether this value is an array\n      isArr = isArray(value)\n      // if the key was never set\n      if (!value)\n        // set it once on the tag instance\n        parent[key] = dom\n      // if it was an array and not yet set\n      else if (!isArr || isArr && !contains(value, dom)) {\n        // add the dom node into the array\n        if (isArr)\n          value.push(dom)\n        else\n          parent[key] = [value, dom]\n      }\n    }\n\n  // skip the elements with no named properties\n  if (!key) return\n\n  // check whether this key has been already evaluated\n  if (tmpl.hasExpr(key))\n    // wait the first updated event only once\n    parent.one('mount', function() {\n      key = getNamedKey(dom)\n      add(parent[key])\n    })\n  else\n    add(parent[key])\n\n}\n\n/**\n * Faster String startsWith alternative\n * @param   { String } src - source string\n * @param   { String } str - test string\n * @returns { Boolean } -\n */\nfunction startsWith(src, str) {\n  return src.slice(0, str.length) === str\n}\n\n/**\n * requestAnimationFrame function\n * Adapted from https://gist.github.com/paulirish/1579671, license MIT\n */\nvar rAF = (function (w) {\n  var raf = w.requestAnimationFrame    ||\n            w.mozRequestAnimationFrame || w.webkitRequestAnimationFrame\n\n  if (!raf || /iP(ad|hone|od).*OS 6/.test(w.navigator.userAgent)) {  // buggy iOS6\n    var lastTime = 0\n\n    raf = function (cb) {\n      var nowtime = Date.now(), timeout = Math.max(16 - (nowtime - lastTime), 0)\n      setTimeout(function () { cb(lastTime = nowtime + timeout) }, timeout)\n    }\n  }\n  return raf\n\n})(window || {})\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @returns { Tag } a new Tag instance\n */\nfunction mountTo(root, tagName, opts) {\n  var tag = __tagImpl[tagName],\n    // cache the inner HTML to fix #855\n    innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n\n  // clear the inner html\n  root.innerHTML = ''\n\n  if (tag && root) tag = new Tag(tag, { root: root, opts: opts }, innerHTML)\n\n  if (tag && tag.mount) {\n    tag.mount()\n    // add this tag to the virtualDom variable\n    if (!contains(__virtualDom, tag)) __virtualDom.push(tag)\n  }\n\n  return tag\n}\n/**\n * Riot public api\n */\n\n// share methods for other riot parts, e.g. compiler\nriot.util = { brackets: brackets, tmpl: tmpl }\n\n/**\n * Create a mixin that could be globally shared across all the tags\n */\nriot.mixin = (function() {\n  var mixins = {},\n    globals = mixins[GLOBAL_MIXIN] = {},\n    _id = 0\n\n  /**\n   * Create/Return a mixin by its name\n   * @param   { String }  name - mixin name (global mixin if object)\n   * @param   { Object }  mixin - mixin logic\n   * @param   { Boolean } g - is global?\n   * @returns { Object }  the mixin logic\n   */\n  return function(name, mixin, g) {\n    // Unnamed global\n    if (isObject(name)) {\n      riot.mixin('__unnamed_'+_id++, name, true)\n      return\n    }\n\n    var store = g ? globals : mixins\n\n    // Getter\n    if (!mixin) {\n      if (typeof store[name] === T_UNDEF) {\n        throw new Error('Unregistered mixin: ' + name)\n      }\n      return store[name]\n    }\n    // Setter\n    if (isFunction(mixin)) {\n      extend(mixin.prototype, store[name] || {})\n      store[name] = mixin\n    }\n    else {\n      store[name] = extend(store[name] || {}, mixin)\n    }\n  }\n\n})()\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   html - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nriot.tag = function(name, html, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n    if (/^[\\w\\-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else attrs = ''\n  }\n  if (css) {\n    if (isFunction(css)) fn = css\n    else styleManager.add(css)\n  }\n  name = name.toLowerCase()\n  __tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   html - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nriot.tag2 = function(name, html, css, attrs, fn) {\n  if (css) styleManager.add(css)\n  //if (bpair) riot.settings.brackets = bpair\n  __tagImpl[name] = { name: name, tmpl: html, attrs: attrs, fn: fn }\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { String } selector - tag DOM selector\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nriot.mount = function(selector, tagName, opts) {\n\n  var els,\n    allTags,\n    tags = []\n\n  // helper functions\n\n  function addRiotTags(arr) {\n    var list = ''\n    each(arr, function (e) {\n      if (!/[^-\\w]/.test(e)) {\n        e = e.trim().toLowerCase()\n        list += ',[' + RIOT_TAG_IS + '=\"' + e + '\"],[' + RIOT_TAG + '=\"' + e + '\"]'\n      }\n    })\n    return list\n  }\n\n  function selectAllTags() {\n    var keys = Object.keys(__tagImpl)\n    return keys + addRiotTags(keys)\n  }\n\n  function pushTags(root) {\n    if (root.tagName) {\n      var riotTag = getAttr(root, RIOT_TAG_IS) || getAttr(root, RIOT_TAG)\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName\n        setAttr(root, RIOT_TAG_IS, tagName)\n        setAttr(root, RIOT_TAG, tagName) // this will be removed in riot 3.0.0\n      }\n      var tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts)\n\n      if (tag) tags.push(tag)\n    } else if (root.length) {\n      each(root, pushTags)   // assume nodeList\n    }\n  }\n\n  // ----- mount code -----\n\n  // inject styles into DOM\n  styleManager.inject()\n\n  if (isObject(tagName)) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (typeof selector === T_STRING) {\n    if (selector === '*')\n      // select all the tags registered\n      // and also the tags found with the riot-tag attribute set\n      selector = allTags = selectAllTags()\n    else\n      // or just the ones named like the selector\n      selector += addRiotTags(selector.split(/, */))\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    els = selector ? $$(selector) : []\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    els = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || selectAllTags()\n    // if the root els it's just a single tag\n    if (els.tagName)\n      els = $$(tagName, els)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n      each(els, function (_el) {\n        nodeList.push($$(tagName, _el))\n      })\n      els = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  pushTags(els)\n\n  return tags\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nriot.update = function() {\n  return each(__virtualDom, function(tag) {\n    tag.update()\n  })\n}\n\n/**\n * Export the Virtual DOM\n */\nriot.vdom = __virtualDom\n\n/**\n * Export the Tag constructor\n */\nriot.Tag = Tag\n  // support CommonJS, AMD & browser\n  /* istanbul ignore next */\n  if (typeof exports === T_OBJECT)\n    module.exports = riot\n  else if (typeof define === T_FUNCTION && typeof define.amd !== T_UNDEF)\n    define(function() { return riot })\n  else\n    window.riot = riot\n\n})(typeof window != 'undefined' ? window : void 0);\n","/* big.js v3.1.3 https://github.com/MikeMcl/big.js/LICENCE */(function(global){\"use strict\";var DP=20,RM=1,MAX_DP=1e6,MAX_POWER=1e6,E_NEG=-7,E_POS=21,P={},isValid=/^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i,Big;function bigFactory(){function Big(n){var x=this;if(!(x instanceof Big)){return n===void 0?bigFactory():new Big(n)}if(n instanceof Big){x.s=n.s;x.e=n.e;x.c=n.c.slice()}else{parse(x,n)}x.constructor=Big}Big.prototype=P;Big.DP=DP;Big.RM=RM;Big.E_NEG=E_NEG;Big.E_POS=E_POS;return Big}function format(x,dp,toE){var Big=x.constructor,i=dp-(x=new Big(x)).e,c=x.c;if(c.length>++dp){rnd(x,i,Big.RM)}if(!c[0]){++i}else if(toE){i=dp}else{c=x.c;i=x.e+i+1}for(;c.length<i;c.push(0)){}i=x.e;return toE===1||toE&&(dp<=i||i<=Big.E_NEG)?(x.s<0&&c[0]?\"-\":\"\")+(c.length>1?c[0]+\".\"+c.join(\"\").slice(1):c[0])+(i<0?\"e\":\"e+\")+i:x.toString()}function parse(x,n){var e,i,nL;if(n===0&&1/n<0){n=\"-0\"}else if(!isValid.test(n+=\"\")){throwErr(NaN)}x.s=n.charAt(0)==\"-\"?(n=n.slice(1),-1):1;if((e=n.indexOf(\".\"))>-1){n=n.replace(\".\",\"\")}if((i=n.search(/e/i))>0){if(e<0){e=i}e+=+n.slice(i+1);n=n.substring(0,i)}else if(e<0){e=n.length}for(i=0;n.charAt(i)==\"0\";i++){}if(i==(nL=n.length)){x.c=[x.e=0]}else{for(;n.charAt(--nL)==\"0\";){}x.e=e-i-1;x.c=[];for(e=0;i<=nL;x.c[e++]=+n.charAt(i++)){}}return x}function rnd(x,dp,rm,more){var u,xc=x.c,i=x.e+dp+1;if(rm===1){more=xc[i]>=5}else if(rm===2){more=xc[i]>5||xc[i]==5&&(more||i<0||xc[i+1]!==u||xc[i-1]&1)}else if(rm===3){more=more||xc[i]!==u||i<0}else{more=false;if(rm!==0){throwErr(\"!Big.RM!\")}}if(i<1||!xc[0]){if(more){x.e=-dp;x.c=[1]}else{x.c=[x.e=0]}}else{xc.length=i--;if(more){for(;++xc[i]>9;){xc[i]=0;if(!i--){++x.e;xc.unshift(1)}}}for(i=xc.length;!xc[--i];xc.pop()){}}return x}function throwErr(message){var err=new Error(message);err.name=\"BigError\";throw err}P.abs=function(){var x=new this.constructor(this);x.s=1;return x};P.cmp=function(y){var xNeg,x=this,xc=x.c,yc=(y=new x.constructor(y)).c,i=x.s,j=y.s,k=x.e,l=y.e;if(!xc[0]||!yc[0]){return!xc[0]?!yc[0]?0:-j:i}if(i!=j){return i}xNeg=i<0;if(k!=l){return k>l^xNeg?1:-1}i=-1;j=(k=xc.length)<(l=yc.length)?k:l;for(;++i<j;){if(xc[i]!=yc[i]){return xc[i]>yc[i]^xNeg?1:-1}}return k==l?0:k>l^xNeg?1:-1};P.div=function(y){var x=this,Big=x.constructor,dvd=x.c,dvs=(y=new Big(y)).c,s=x.s==y.s?1:-1,dp=Big.DP;if(dp!==~~dp||dp<0||dp>MAX_DP){throwErr(\"!Big.DP!\")}if(!dvd[0]||!dvs[0]){if(dvd[0]==dvs[0]){throwErr(NaN)}if(!dvs[0]){throwErr(s/0)}return new Big(s*0)}var dvsL,dvsT,next,cmp,remI,u,dvsZ=dvs.slice(),dvdI=dvsL=dvs.length,dvdL=dvd.length,rem=dvd.slice(0,dvsL),remL=rem.length,q=y,qc=q.c=[],qi=0,digits=dp+(q.e=x.e-y.e)+1;q.s=s;s=digits<0?0:digits;dvsZ.unshift(0);for(;remL++<dvsL;rem.push(0)){}do{for(next=0;next<10;next++){if(dvsL!=(remL=rem.length)){cmp=dvsL>remL?1:-1}else{for(remI=-1,cmp=0;++remI<dvsL;){if(dvs[remI]!=rem[remI]){cmp=dvs[remI]>rem[remI]?1:-1;break}}}if(cmp<0){for(dvsT=remL==dvsL?dvs:dvsZ;remL;){if(rem[--remL]<dvsT[remL]){remI=remL;for(;remI&&!rem[--remI];rem[remI]=9){}--rem[remI];rem[remL]+=10}rem[remL]-=dvsT[remL]}for(;!rem[0];rem.shift()){}}else{break}}qc[qi++]=cmp?next:++next;if(rem[0]&&cmp){rem[remL]=dvd[dvdI]||0}else{rem=[dvd[dvdI]]}}while((dvdI++<dvdL||rem[0]!==u)&&s--);if(!qc[0]&&qi!=1){qc.shift();q.e--}if(qi>digits){rnd(q,dp,Big.RM,rem[0]!==u)}return q};P.eq=function(y){return!this.cmp(y)};P.gt=function(y){return this.cmp(y)>0};P.gte=function(y){return this.cmp(y)>-1};P.lt=function(y){return this.cmp(y)<0};P.lte=function(y){return this.cmp(y)<1};P.sub=P.minus=function(y){var i,j,t,xLTy,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b){y.s=-b;return x.plus(y)}var xc=x.c.slice(),xe=x.e,yc=y.c,ye=y.e;if(!xc[0]||!yc[0]){return yc[0]?(y.s=-b,y):new Big(xc[0]?x:0)}if(a=xe-ye){if(xLTy=a<0){a=-a;t=xc}else{ye=xe;t=yc}t.reverse();for(b=a;b--;t.push(0)){}t.reverse()}else{j=((xLTy=xc.length<yc.length)?xc:yc).length;for(a=b=0;b<j;b++){if(xc[b]!=yc[b]){xLTy=xc[b]<yc[b];break}}}if(xLTy){t=xc;xc=yc;yc=t;y.s=-y.s}if((b=(j=yc.length)-(i=xc.length))>0){for(;b--;xc[i++]=0){}}for(b=i;j>a;){if(xc[--j]<yc[j]){for(i=j;i&&!xc[--i];xc[i]=9){}--xc[i];xc[j]+=10}xc[j]-=yc[j]}for(;xc[--b]===0;xc.pop()){}for(;xc[0]===0;){xc.shift();--ye}if(!xc[0]){y.s=1;xc=[ye=0]}y.c=xc;y.e=ye;return y};P.mod=function(y){var yGTx,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(!y.c[0]){throwErr(NaN)}x.s=y.s=1;yGTx=y.cmp(x)==1;x.s=a;y.s=b;if(yGTx){return new Big(x)}a=Big.DP;b=Big.RM;Big.DP=Big.RM=0;x=x.div(y);Big.DP=a;Big.RM=b;return this.minus(x.times(y))};P.add=P.plus=function(y){var t,x=this,Big=x.constructor,a=x.s,b=(y=new Big(y)).s;if(a!=b){y.s=-b;return x.minus(y)}var xe=x.e,xc=x.c,ye=y.e,yc=y.c;if(!xc[0]||!yc[0]){return yc[0]?y:new Big(xc[0]?x:a*0)}xc=xc.slice();if(a=xe-ye){if(a>0){ye=xe;t=yc}else{a=-a;t=xc}t.reverse();for(;a--;t.push(0)){}t.reverse()}if(xc.length-yc.length<0){t=yc;yc=xc;xc=t}a=yc.length;for(b=0;a;){b=(xc[--a]=xc[a]+yc[a]+b)/10|0;xc[a]%=10}if(b){xc.unshift(b);++ye}for(a=xc.length;xc[--a]===0;xc.pop()){}y.c=xc;y.e=ye;return y};P.pow=function(n){var x=this,one=new x.constructor(1),y=one,isNeg=n<0;if(n!==~~n||n<-MAX_POWER||n>MAX_POWER){throwErr(\"!pow!\")}n=isNeg?-n:n;for(;;){if(n&1){y=y.times(x)}n>>=1;if(!n){break}x=x.times(x)}return isNeg?one.div(y):y};P.round=function(dp,rm){var x=this,Big=x.constructor;if(dp==null){dp=0}else if(dp!==~~dp||dp<0||dp>MAX_DP){throwErr(\"!round!\")}rnd(x=new Big(x),dp,rm==null?Big.RM:rm);return x};P.sqrt=function(){var estimate,r,approx,x=this,Big=x.constructor,xc=x.c,i=x.s,e=x.e,half=new Big(\"0.5\");if(!xc[0]){return new Big(x)}if(i<0){throwErr(NaN)}i=Math.sqrt(x.toString());if(i===0||i===1/0){estimate=xc.join(\"\");if(!(estimate.length+e&1)){estimate+=\"0\"}r=new Big(Math.sqrt(estimate).toString());r.e=((e+1)/2|0)-(e<0||e&1)}else{r=new Big(i.toString())}i=r.e+(Big.DP+=4);do{approx=r;r=half.times(approx.plus(x.div(approx)))}while(approx.c.slice(0,i).join(\"\")!==r.c.slice(0,i).join(\"\"));rnd(r,Big.DP-=4,Big.RM);return r};P.mul=P.times=function(y){var c,x=this,Big=x.constructor,xc=x.c,yc=(y=new Big(y)).c,a=xc.length,b=yc.length,i=x.e,j=y.e;y.s=x.s==y.s?1:-1;if(!xc[0]||!yc[0]){return new Big(y.s*0)}y.e=i+j;if(a<b){c=xc;xc=yc;yc=c;j=a;a=b;b=j}for(c=new Array(j=a+b);j--;c[j]=0){}for(i=b;i--;){b=0;for(j=a+i;j>i;){b=c[j]+yc[i]*xc[j-i-1]+b;c[j--]=b%10;b=b/10|0}c[j]=(c[j]+b)%10}if(b){++y.e}if(!c[0]){c.shift()}for(i=c.length;!c[--i];c.pop()){}y.c=c;return y};P.toString=P.valueOf=P.toJSON=function(){var x=this,Big=x.constructor,e=x.e,str=x.c.join(\"\"),strL=str.length;if(e<=Big.E_NEG||e>=Big.E_POS){str=str.charAt(0)+(strL>1?\".\"+str.slice(1):\"\")+(e<0?\"e\":\"e+\")+e}else if(e<0){for(;++e;str=\"0\"+str){}str=\"0.\"+str}else if(e>0){if(++e>strL){for(e-=strL;e--;str+=\"0\"){}}else if(e<strL){str=str.slice(0,e)+\".\"+str.slice(e)}}else if(strL>1){str=str.charAt(0)+\".\"+str.slice(1)}return x.s<0&&x.c[0]?\"-\"+str:str};P.toExponential=function(dp){if(dp==null){dp=this.c.length-1}else if(dp!==~~dp||dp<0||dp>MAX_DP){throwErr(\"!toExp!\")}return format(this,dp,1)};P.toFixed=function(dp){var str,x=this,Big=x.constructor,neg=Big.E_NEG,pos=Big.E_POS;Big.E_NEG=-(Big.E_POS=1/0);if(dp==null){str=x.toString()}else if(dp===~~dp&&dp>=0&&dp<=MAX_DP){str=format(x,x.e+dp);if(x.s<0&&x.c[0]&&str.indexOf(\"-\")<0){str=\"-\"+str}}Big.E_NEG=neg;Big.E_POS=pos;if(!str){throwErr(\"!toFix!\")}return str};P.toPrecision=function(sd){if(sd==null){return this.toString()}else if(sd!==~~sd||sd<1||sd>MAX_DP){throwErr(\"!toPre!\")}return format(this,sd-1,2)};Big=bigFactory();global.Big=Big})(this);\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('cooldown', {\n\tinit: function() {\n\t\tthis.on('mount', function() {\n\t\t\tthis._cooldowns = [];\n\t\t});\n\n\t\tthis.isCoolingDown = function(id, time) {\n\t\t\ttime = time || 1100;\n\t\t\tvar cd = this._cooldowns[id];\n\t\t\tif (cd && window.performance.now() - cd < time) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tthis._cooldowns[id] = window.performance.now();\n\t\t\treturn false;\n\t\t}.bind(this);\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('i18n', {\n\tinit: function() {\n\t\tthis.on('mount unmount', function(evt) {\n\t\t\tif (evt === 'mount') {\n\t\t\t\triotctrl.on('update-i18n-retro', this.onUpdateI18n, this);\n\t\t\t}\n\t\t\telse if (evt === 'unmount') {\n\t\t\t\triotctrl.off('update-i18n-retro', this.onUpdateI18n, this);\n\t\t\t}\n\t\t});\n\n\t\tthis.on('update', function() {\n\t\t\t// force a scan just in case the DOM changed\n\t\t\tthis.onUpdateI18n();\n\t\t});\n\t},\n\n\tonUpdateI18n: function() {\n\t\tvar labels = this.root.querySelectorAll('[data-i18n]');\n\t\tfor (var i = 0; i < labels.length; i++) {\n\t\t\tvar e = labels[i];\n\t\t\tvar k = e.dataset.i18n;\n\t\t\te.innerText = iaw.i18n.getLocalizedString(k);\n\t\t}\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\n/*\n\tFinds the first scrolling element on the page and attaches events to it.\n\tThere should only be one scrolling element in Start at a time.\n\tThere can be multiple scrolling elements in FNFT.\n*/\nriot.mixin('scroll-end', {\n\tinit: function() {\n\t\tthis.scrollPane = null;\n\t\tthis.scrollContainer = null;\n\n\t\tthis.on('mount unmount', function(evt) {\n\t\t\tif (evt === 'mount') {\n\t\t\t\tthis.scrollPane = document.querySelector('.scroll-pane');\n\t\t\t\tthis.scrollContainer = document.querySelector('.scroll-container');\n\n\t\t\t\tif (this.scrollContainer && this.scrollPane) {\n\t\t\t\t\tthis.scrollContainer.addEventListener('scroll', this.onScroll);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (evt === 'unmount') {\n\t\t\t\tif (this.scrollContainer && this.scrollPane) {\n\t\t\t\t\tthis.scrollContainer.removeEventListener('scroll', this.onScroll);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tonScroll: function(evt) {\n\t\tif (this.scrollPane.offsetHeight === this.scrollContainer.offsetHeight + this.scrollContainer.scrollTop) {\n\t\t\tthis.trigger('scroll-end');\n\t\t}\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('spcmixin', {\n\tinit: function() {\n\t\tthis.on('mount update updated', function() {\n\t\t\tvar comps = this.root.querySelectorAll('[class*=\"spc-js-\"');\n\t\t\tif (comps.length > 0) {\n\t\t\t\twindow.componentHandler.upgradeElements(comps);\n\t\t\t}\n\t\t});\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('tooltip', {\n\tinit: function() {\n\t\tthis.on('mount', function(evt) {\n\t\t\triotctrl.trigger('scan-tooltips');\n\t\t});\n\n\t\tthis.on('updated', function() {\n\t\t\triotctrl.trigger('scan-tooltips');\n\t\t});\n\t}\n});\n","/*************************************************************************\n * ADOBE CONFIDENTIAL\n * ___________________\n *\n *  Copyright 2015 Adobe Systems Incorporated\n *  All Rights Reserved.\n *\n * NOTICE:  All information contained herein is, and remains\n * the property of Adobe Systems Incorporated and its suppliers,\n * if any.  The intellectual and technical concepts contained\n * herein are proprietary to Adobe Systems Incorporated and its\n * suppliers and are protected by all applicable intellectual property\n * laws, including trade secret and copyright laws.\n * Dissemination of this information or reproduction of this material\n * is strictly forbidden unless prior written permission is obtained\n * from Adobe Systems Incorporated.\n **************************************************************************/\n\nriot.mixin('unitConversion', {\n\tconvert: function(value, opts) {\n\t\tvar Big = window.Big;\n\t\topts = opts || {};\n\t\tvar startingValue = new Big(value);\n\t\tvar normalizedValue = new Big(0);\n\t\tvar stringValue = '';\n\t\tvar stringArray = [];\n\t\tvar resolution = opts.resolution || 72;\n\t\tvar pointsPerInch = opts.pointsPerInch || 72;\n\t\tvar picasPerInch = opts.picasPerInch || 72;\n\t\tvar trim = opts.trim !== false;\n\t\tvar precision = opts.precision || 5;\n\n\t\tresolution = new Big(resolution);\n\t\tpointsPerInch = new Big(pointsPerInch);\n\t\tpicasPerInch = new Big(picasPerInch);\n\n\t\tvar conversionTable = {\n\t\t\tm: {\n\t\t\t\tfactor: new Big(1)\n\t\t\t},\n\t\t\tcm: {\n\t\t\t\tfactor: new Big(0.01)\n\t\t\t},\n\t\t\tin: {\n\t\t\t\tfactor: new Big(0.0254)\n\t\t\t},\n\t\t\tmm: {\n\t\t\t\tfactor: new Big(0.001)\n\t\t\t},\n\t\t\tpx: {\n\t\t\t\tfactor: new Big(0.0254).div(resolution)\n\t\t\t},\n\t\t\tpt: {\n\t\t\t\tfactor: new Big(0.0254).div(pointsPerInch)\n\t\t\t},\n\t\t\tpc: {\n\t\t\t\tfactor: new Big(0.0254).div(picasPerInch)\n\t\t\t},\n\t\t\tha: {\n\t\t\t\tfactor: new Big(0.0254).div(101.6)\n\t\t\t},\n\t\t\tc: {\n\t\t\t\tfactor: new Big(0.0254*0.177609377775)\n\t\t\t},\n\t\t\tag: {\n\t\t\t\tfactor: new Big(0.0254).div(14.0)\n\t\t\t},\n\t\t\tcu: {\n\t\t\t\tfactor: new Big(0.0254*19.0512)\n\t\t\t},\n\t\t\tft: {\n\t\t\t\tfactor: new Big(0.3048)\n\t\t\t}\n\t\t};\n\n\t\treturn {\n\t\t\tfrom: function(value) {\n\t\t\t\tnormalizedValue = startingValue.mul(conversionTable[value].factor);\n\t\t\t\treturn this;\n\t\t\t},\n\t\t\tto: function(value) {\n\t\t\t\tstringValue = normalizedValue.div(conversionTable[value].factor).toFixed(10);\n\n\t\t\t\tif (trim) {\n\t\t\t\t\tstringArray = stringValue.split('.');\n\t\t\t\t\t// if decimal\n\t\t\t\t\tif (stringArray[1]) {\n\t\t\t\t\t\tstringArray[1] = stringArray[1].substring(0, precision);\n\t\t\t\t\t}\n\t\t\t\t\tstringValue = stringArray.join('.');\n\t\t\t\t}\n\n\t\t\t\treturn Number(stringValue);\n\t\t\t}\n\t\t};\n\t}\n});\n"]}